webpackJsonp([0],[,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(787),u=a(r),s=n(830),o=a(s),l=n(831),i=a(l),c=n(832),d=a(c),f=n(833),p=a(f),h=n(836),m=a(h),v=n(837),y=a(v),w=n(838),b=a(w),g=n(840),_=a(g),E=n(842),S=a(E),M=n(843),C=a(M);t.default={filter:d.default,modals:u.default,loader:o.default,notifications:i.default,user:p.default,bitcoin:m.default,ethereum:y.default,token:b.default,nimiq:_.default,feed:S.default,analytics:C.default}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.getScrollBarWidth=t.getPageOffset=t.ignoreProps=t.localStorage=t.constants=t.request=t.links=t.web3=t.btc=void 0;var r=n(380),u=a(r),s=n(77),o=a(s),l=n(580),i=a(l),c=n(581),d=a(c),f=n(615),p=a(f),h=n(620),m=a(h),v=n(622),y=a(v),w=n(625),b=a(w),g=n(626),_=a(g);t.btc=u.default,t.web3=o.default,t.links=i.default,t.request=d.default,t.constants=p.default,t.localStorage=m.default,t.ignoreProps=y.default,t.getPageOffset=b.default,t.getScrollBarWidth=_.default},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.util=t.constants=t.Events=t.Collection=t.SwapInterface=t.ServiceInterface=void 0;var r=n(330),u=a(r),s=n(855),o=a(s),l=n(856),i=a(l),c=n(857),d=a(c),f=n(858),p=a(f),h=n(331),m=a(h),v=n(859),y=a(v);t.default=u.default,t.ServiceInterface=o.default,t.SwapInterface=i.default,t.Collection=d.default,t.Events=p.default,t.constants=m.default,t.util=y.default},,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(27),u=n(326),s=a(u),o=n(189),l=a(o);t.default=(0,r.wrapReducers)(s.default,l.default.dispatch)},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Flow=void 0;var r=n(912),u=a(r),s=n(913),o=a(s);t.default=u.default,t.Flow=o.default},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(917),i=a(l),c=function(e){var t=e.overlayClassName,n=e.className,a=e.overlay,r=void 0===a||a;return u.default.createElement("div",{styleName:r?"overlay":"",className:t},u.default.createElement("div",{styleName:r?"loader center":"loader",className:n},u.default.createElement("div",{styleName:"loader1"}),u.default.createElement("div",{styleName:"loader2"}),u.default.createElement("div",{styleName:"loader3"})))};t.default=(0,o.default)(c,i.default,{allowMultiple:!0})},function(e,t,n){"use strict";t.__esModule=!0,t.events=void 0;var a=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(t){(0,r.default)(this,e),this.name=t,this.handlers=[]}return e.prototype.addHandler=function(e){var t=this;this.handlers.push(e.bind({unsubscribe:function(){t.removeHandler(e)}}))},e.prototype.removeHandler=function(e){var t=this.handlers.indexOf(e);this.handlers.splice(t,1)},e.prototype.call=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.handlers.forEach(function(e){try{e.apply(void 0,t)}catch(e){console.error(e)}})},e}(),s=function(){function e(){(0,r.default)(this,e),this.events={}}return e.prototype.getEvent=function(e){var t=this.events[e];return t||(t=new u(e),this.events[e]=t),t},e.prototype.subscribe=function(e,t){var n=this.getEvent(e);return n.addHandler(t),{event:n,handler:t}},e.prototype.unsubscribe=function(e,t){this.getEvent(e).removeHandler(t)},e.prototype.dispatch=function(e){var t=this.getEvent(e);if(t){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];t.call.apply(t,a)}},e}(),o=new s;t.default=s,t.events=o},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(435),u=a(r),s=n(82),o=a(s),l=new u.default(new u.default.providers.HttpProvider(o.default.services.web3.provider));t.default=l},,,,,function(e,t,n){"use strict";t.__esModule=!0,t.default={propENV:"testnet.prod",paths:{},publicPath:"https://testnet.swap.online/",http:{host:"localhost",port:9001},i18nDate:{month:"long",day:"numeric",hour:"numeric",minute:"numeric"},env:"production",entry:"testnet",base:"https://testnet.swap.online/",services:{web3:{provider:"https://rinkeby.infura.io/JCnK5ifEPH9qcQkX0Ahl",noxonToken:"0x60c205722c6c797c725a996cf9cca11291f90749",rate:.1,gas:1e5,gasPrice:"20000000000"}},api:{blocktrail:"https://api.blocktrail.com/v1/tBTC",bitpay:"https://test-insight.bitpay.com/api",etherscan:"https://rinkeby.etherscan.io/api"},apiKeys:{etherscan:"RHHFPNMAZMD6I4ZWBZBF6FA11CMW9AXZNM",blocktrail:"1835368c0fa8e71907ca26f3c978ab742a7db42e"}}},,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(7),o=a(s),l=n(2),i=a(l),c=n(767),d=a(c),f=n(315),p=a(f),h=n(128),m=a(h),v=function(e){var t=e.children,n=e.title,a=e.subTitle;return u.default.createElement("div",{styleName:"headline"},t||u.default.createElement(r.Fragment,null,n&&u.default.createElement(p.default,null,n),a&&u.default.createElement(m.default,null,a)))};v.propTypes={title:o.default.string,subTitle:o.default.string},t.default=(0,i.default)(v,d.default)},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.getState=t.reducers=void 0;var r=n(189),u=a(r),s=n(31),o=a(s),l=function(){return u.default.getState()};t.reducers=o.default,t.getState=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.swapApp=void 0;var r=n(77),u=a(r),s=n(102),o=a(s),l=n(18),i=a(l),c=n(129),d=a(c),f=n(335),p=a(f),h=n(866),m=a(h),v=n(878),y=n(13),w=a(y),b=localStorage.clear.bind(localStorage);localStorage.clear=function(){var e=localStorage.getItem("testnet:eth:privateKey"),t=localStorage.getItem("testnet:btc:privateKey");b(),localStorage.setItem("testnet:eth:privateKey",e),localStorage.setItem("testnet:btc:privateKey",t)},i.default.setup({network:"testnet",env:{web3:u.default,bitcoin:o.default,Ipfs:window.Ipfs,IpfsRoom:window.IpfsRoom,storage:window.localStorage},services:[new d.default({eth:localStorage.getItem("testnet:eth:privateKey"),btc:localStorage.getItem("testnet:btc:privateKey")}),new p.default({EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/star.wpmix.net/tcp/443/wss/p2p-websocket-star"]}}}),new m.default],swaps:[new v.EthSwap({address:"0xe08907e0e010a339646de2cc56926994f58c4db2",abi:[{constant:!1,inputs:[{name:"_ownerAddress",type:"address"}],name:"abort",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_participantAddress",type:"address"}],name:"close",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_secretHash",type:"bytes20"},{name:"_participantAddress",type:"address"}],name:"createSwap",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"_participantAddress",type:"address"}],name:"refund",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_ratingContractAddress",type:"address"}],name:"setReputationAddress",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_participantAddress",type:"address"}],name:"sign",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!1,inputs:[{name:"_secret",type:"bytes32"},{name:"_ownerAddress",type:"address"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_ownerAddress",type:"address"}],name:"checkSign",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_ownerAddress",type:"address"},{name:"_participantAddress",type:"address"}],name:"getInfo",outputs:[{name:"",type:"bytes32"},{name:"",type:"bytes20"},{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_participantAddress",type:"address"}],name:"getSecret",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"participantSigns",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ratingContractAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"swaps",outputs:[{name:"secret",type:"bytes32"},{name:"secretHash",type:"bytes20"},{name:"createdAt",type:"uint256"},{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_ownerAddress",type:"address"},{name:"_participantAddress",type:"address"}],name:"unsafeGetSecret",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}],fetchBalance:function(e){return w.default.ethereum.fetchBalance(e)}}),new v.EthTokenSwap({address:"0x527458d3d3a3af763dbe2ccc5688d64161e81d97",abi:[{constant:!1,inputs:[{name:"_ownerAddress",type:"address"}],name:"abort",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_participantAddress",type:"address"}],name:"close",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_secretHash",type:"bytes20"},{name:"_participantAddress",type:"address"},{name:"_value",type:"uint256"},{name:"_token",type:"address"}],name:"createSwap",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_participantAddress",type:"address"}],name:"refund",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_ratingContractAddress",type:"address"}],name:"setReputationAddress",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_participantAddress",type:"address"}],name:"sign",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!1,inputs:[{name:"_secret",type:"bytes32"},{name:"_ownerAddress",type:"address"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_ownerAddress",type:"address"}],name:"checkSign",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_ownerAddress",type:"address"},{name:"_participantAddress",type:"address"}],name:"getInfo",outputs:[{name:"",type:"address"},{name:"",type:"bytes32"},{name:"",type:"bytes20"},{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_participantAddress",type:"address"}],name:"getSecret",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"participantSigns",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ratingContractAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"swaps",outputs:[{name:"token",type:"address"},{name:"secret",type:"bytes32"},{name:"secretHash",type:"bytes20"},{name:"createdAt",type:"uint256"},{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_ownerAddress",type:"address"},{name:"_participantAddress",type:"address"}],name:"unsafeGetSecret",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}],tokenAddress:"0x60c205722c6c797c725a996cf9cca11291f90749",tokenAbi:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_amount",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"getBurnPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"manager",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unlockEmission",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"emissionlocked",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"acceptOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"lockEmission",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"burnAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_newManager",type:"address"}],name:"changeManager",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_newOwner",type:"address"}],name:"changeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"emissionPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"addToReserve",outputs:[{name:"",type:"bool"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"burnPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"tokenAddress",type:"address"},{name:"amount",type:"uint256"}],name:"transferAnyERC20Token",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"NoxonInit",outputs:[{name:"",type:"bool"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[],name:"acceptManagership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!1,name:"ethers",type:"uint256"},{indexed:!1,name:"_emissionedPrice",type:"uint256"},{indexed:!1,name:"amountOfTokens",type:"uint256"}],name:"TokenBought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"buyer",type:"address"},{indexed:!1,name:"ethers",type:"uint256"},{indexed:!1,name:"_burnedPrice",type:"uint256"},{indexed:!1,name:"amountOfTokens",type:"uint256"}],name:"TokenBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"etherReserved",type:"uint256"}],name:"EtherReserved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}],fetchBalance:function(e){return w.default.token.fetchBalance(e)}}),new v.BtcSwap({fetchBalance:function(e){return w.default.bitcoin.fetchBalance(e)},fetchUnspents:function(e){return w.default.bitcoin.fetchUnspents(e)},broadcastTx:function(e){return w.default.bitcoin.broadcastTx(e)}})]}),t.swapApp=i.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ignoreProps=t.pullProps=t.localStorage=t.setupEnv=t.env=void 0;var r=n(931),u=a(r),s=n(932),o=a(s),l=n(933),i=a(l),c=n(344);t.env=c.env,t.setupEnv=c.setupEnv,t.localStorage=u.default,t.pullProps=o.default,t.ignoreProps=i.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(7),o=a(s),l=n(34),i=a(l),c=n(2),d=a(c),f=n(974),p=a(f),h=function(e){var t=e.children,n=e.className,a=e.fullWidth,r=e.brand,s=e.green,o=e.white,l=e.gray,c=e.disabled,d=e.onClick,f=(0,i.default)("button",{fullWidth:a,brand:r,green:s,white:o,gray:l,disabled:c});return u.default.createElement("div",{styleName:f,className:n,role:"button",onClick:d},t)};h.propTypes={children:o.default.any,className:o.default.string,fullWidth:o.default.bool,brand:o.default.bool,green:o.default.bool,white:o.default.bool,gray:o.default.bool,disabled:o.default.bool,onClick:o.default.func},t.default=(0,d.default)(h,p.default,{allowMultiple:!0})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Select=t.TextArea=t.Radio=t.Checkbox=t.NumberInput=t.Input=void 0;var r=n(17),u=a(r),s=n(983);Object.defineProperty(t,"Input",{enumerable:!0,get:function(){return s.Input}}),Object.defineProperty(t,"NumberInput",{enumerable:!0,get:function(){return s.NumberInput}}),Object.defineProperty(t,"Checkbox",{enumerable:!0,get:function(){return s.Checkbox}}),Object.defineProperty(t,"Radio",{enumerable:!0,get:function(){return s.Radio}}),Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return s.TextArea}}),Object.defineProperty(t,"Select",{enumerable:!0,get:function(){return s.Select}});var o=n(986),l=a(o);l.default.allFields=function(e){return l.default.all.apply(l.default,[e].concat((0,u.default)(e.state)))},t.default=l.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(769),i=a(l),c=function(e){var t=e.children;return u.default.createElement("div",{styleName:"subTitle"},t)};t.default=(0,o.default)(c,i.default)},function(e,t,n){"use strict";t.__esModule=!0;var a=n(190),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.BTC2ETHTOKEN=t.ETHTOKEN2BTC=t.BTC2ETH=t.ETH2BTC=void 0;var r=n(911),u=a(r),s=n(914),o=a(s),l=n(915),i=a(l),c=n(916),d=a(c);t.ETH2BTC=u.default,t.BTC2ETH=o.default,t.ETHTOKEN2BTC=i.default,t.BTC2ETHTOKEN=d.default},function(e,t,n){"use strict";t.__esModule=!0;var a=n(930),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.storage=void 0;var r=n(17),u=a(r),s=n(1),o=a(s),l=n(73),i=a(l),c=n(93),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data,a=t.storeKey;(0,o.default)(this,e),this.storeKey=a,this.events=new i.default,n&&this._update(n),this._persistState()}return e.prototype._persistState=function(){if(this.storeKey){var e=c.localStorage.getItem(this.storeKey);this._update(e)}},e.prototype._update=function(e){var t=this;e&&(0,u.default)(e).forEach(function(n){t[n]=e[n]})},e.prototype.update=function(e){this._update(e);var t=(0,c.ignoreProps)(this,"events","storeKey");this.storeKey&&c.localStorage.setItem(this.storeKey,t),l.events.dispatch("new storage values",e),l.events.dispatch("storage update",t)},e.prototype.on=function(e,t){this.events.subscribe(e,t)},e.prototype.off=function(e,t){this.events.unsubscribe(e,t)},e}(),f=new d;t.default=d,t.storage=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.history=void 0;var r=n(9),u=a(r),s=n(327),o=n(54),l=n(27),i=(n(829),n(326)),c=a(i),d=t.history=(0,o.createBrowserHistory)(),f=(0,s.routerMiddleware)(d),p={},h=(0,l.createStore)({reducers:(0,u.default)({},(0,l.combineReducers)(c.default)),middleware:[f].concat([]),initialState:p});t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(39),u=a(r),s=n(17),o=a(s),l=n(1),i=a(l),c=n(3),d=a(c),f=n(191),p=a(f),h=n(4),m=a(h),v=n(18),y=a(v),w=void 0,b=function(e){function t(n){(0,i.default)(this,t);var a=(0,d.default)(this,e.call(this));return a._serviceName="auth",a.accounts={},a.getPublicDataMethods={},w=n,a}return(0,m.default)(t,e),(0,p.default)(t,null,[{key:"name",get:function(){return"auth"}}]),t.prototype.initService=function(){var e=this;(0,o.default)(w).forEach(function(t){if(v.constants.COINS.indexOf(t)<0){var a='SwapAuth._initService(): There is no instance with name "'+t+'".';throw a+="Only ["+(0,u.default)(v.constants.COINS).replace(/"/g,"'")+"] available",new Error(a)}try{var r=n(864)("./"+t);r=r.default||r;var s=r.login(w[t]);e.accounts[t]=s,e.getPublicDataMethods[t]=function(){return r.getPublicData(s)}}catch(e){throw new Error("SwapAuth._initService(): "+e)}})},t.prototype.getPublicData=function(){var e=this,t={peer:y.default.services.room.peer};return(0,o.default)(this.getPublicDataMethods).forEach(function(n){t[n]=e.getPublicDataMethods[n]()}),t},t}(v.ServiceInterface);t.default=b},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),u=a(r),s=n(0),o=a(s),l=n(2),i=a(l),c=n(884),d=a(c),f=n(317),p=a(f),h=function(e){var t=e.className,n=e.size,a=void 0===n?40:n,r=e.name,s={width:a?a+"px":null},l={name:r.toLowerCase()};return l=f.iconNames.includes(r.toLowerCase())?(0,u.default)({},l,{styleName:"icon"}):(0,u.default)({},l,{styleName:"letter",style:{lineHeight:a+"px",fontSize:a/2+"px"}}),o.default.createElement("div",{styleName:"coin",className:t,style:s},o.default.createElement(p.default,l))};t.default=(0,i.default)(h,d.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(889),i=a(l),c=function(e){var t=e.titles,n=e.rows,a=e.rowRender;return u.default.createElement("table",{styleName:"table"},u.default.createElement("thead",null,u.default.createElement("tr",null,t.map(function(e,t){return u.default.createElement("th",{key:t},e)}))),u.default.createElement("tbody",null,n.map(function(e,t){if("function"==typeof a)return a(e,e.id||t)})))};t.default=(0,o.default)(c,i.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(46),u=a(r),s=n(21),o=a(s),l=n(0),i=a(l),c=n(7),d=a(c),f=n(34),p=a(f),h=n(2),m=a(h),v=n(942),y=a(v),w=function(e){var t=e.children,n=e.className,a=e.main,r=e.fullHeight,s=e.relative,l=e.contentCentering,c=(0,o.default)(e,["children","className","main","fullHeight","relative","contentCentering"]),d=(0,p.default)("widthContainer",{main:a,fullHeight:r,centeringContent:l});if(r||s){var f=(0,p.default)("widthContainerIn",{fullHeight:r,relative:s});return i.default.createElement("div",(0,u.default)({styleName:d,className:n},c),i.default.createElement("div",{styleName:f},t))}return i.default.createElement("div",(0,u.default)({styleName:d,className:n},c),t)};w.propTypes={children:d.default.node,main:d.default.bool,fullHeight:d.default.bool,relative:d.default.bool,contentCentering:d.default.bool,className:d.default.string},t.default=(0,m.default)(w,y.default,{allowMultiple:!0})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l=n(1),i=a(l),c=n(3),d=a(c),f=n(4),p=a(f),h=n(0),m=a(h),v=n(13),y=a(v),w=n(7),b=a(w),g=n(34),_=a(g),E=n(2),S=a(E),M=n(963),C=a(M),k=n(194),x=a(k),T=n(964),A=a(T),N=n(346),I=a(N),O=n(966),B=a(O),P=n(968),R=a(P),q=(r=(0,S.default)(C.default,{allowMultiple:!0}))((o=s=function(e){function t(){var n,a,r;(0,i.default)(this,t);for(var u=arguments.length,s=Array(u),o=0;o<u;o++)s[o]=arguments[o];return n=a=(0,d.default)(this,e.call.apply(e,[this].concat(s))),a.close=function(){var e=a.props,t=e.name,n=e.data,r=e.onClose,u=e.disableClose;"OfferModal"===t&&y.default.analytics.dataEvent("orderbook-addoffer-click-exit-button"),u||(y.default.modals.close(t),"function"==typeof r&&r(),"function"==typeof n.onClose&&n.onClose())},r=n,(0,d.default)(a,r)}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.whiteLogo,a=e.title,r=e.showCloseButton,u=e.disableClose,s=e.children,o=e.titleUppercase,l=(0,_.default)("title",{uppercase:o});return m.default.createElement(A.default,null,m.default.createElement("div",{styleName:"modal",className:t},Boolean(a||r)&&m.default.createElement("div",{styleName:"header"},m.default.createElement(x.default,{styleName:"headerContent"},m.default.createElement(I.default,{colored:!n}),m.default.createElement("div",{styleName:l,role:"title"},a),r&&!u&&m.default.createElement(R.default,{styleName:"closeButton",onClick:this.close,"data-testid":"modalCloseIcon"}))),m.default.createElement("div",{styleName:"contentContainer"},m.default.createElement(B.default,{scrollable:!0},m.default.createElement("div",{styleName:"content"},s)))))},t}(h.Component),s.propTypes={children:b.default.node,name:b.default.string.isRequired,title:b.default.any,showCloseButton:b.default.bool,data:b.default.object,disableClose:b.default.bool,titleUppercase:b.default.bool,onClose:b.default.func},s.defaultProps={data:{},whiteLogo:!1,showCloseButton:!0,fullWidth:!1,disableClose:!1,disableCloseOverlay:!1,uppercase:!1},u=o))||u;t.default=q},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(977),i=a(l),c=function(e){var t=e.title,n=e.children;return u.default.createElement("div",{styleName:"row"},u.default.createElement("div",{styleName:"title"},t),u.default.createElement("div",{styleName:"content"},n))};t.default=(0,o.default)(c,i.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(978),i=a(l),c=function(e){var t=e.value,n=e.currency;return u.default.createElement("span",{styleName:"value"},u.default.createElement("span",null,t),u.default.createElement("span",{styleName:"currency"},n.toUpperCase()))};t.default=(0,o.default)(c,i.default)},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l=n(9),i=a(l),c=n(21),d=a(c),f=n(1),p=a(f),h=n(3),m=a(h),v=n(4),y=a(v),w=n(0),b=a(w),g=n(7),_=a(g),E=n(95),S=n(34),M=a(S),C=n(14),k=n(2),x=a(k),T=n(993),A=a(T),N=n(994),I=a(N),O=(r=(0,x.default)(A.default,{allowMultiple:!0}))((o=s=function(e){function t(){return(0,p.default)(this,t),(0,m.default)(this,e.apply(this,arguments))}return(0,y.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.inputContainerClassName,a=e.inputClassName,r=e.valueLink.error,u=e.valueLink,s=e.multiline,o=e.focusOnInit,l=e.disabled,c=e.readOnly,f=(0,d.default)(e,["className","inputContainerClassName","inputClassName","valueLink","valueLink","multiline","focusOnInit","disabled","readOnly"]),p=(0,M.default)("inputContainer",{withError:r});return b.default.createElement("div",{styleName:"root",className:t},b.default.createElement("div",{styleName:p,className:n},b.default.createElement(s?I.default:E.Input,(0,i.default)({},(0,C.ignoreProps)(f,"styles"),{styleName:"input",className:a,valueLink:u,disabled:l||c,autoFocus:!!o,dir:"auto",autoComplete:"off"}))),Boolean(r)&&b.default.createElement("div",{styleName:"error"},r))},t}(w.Component),s.propTypes={className:_.default.string,rootClassName:_.default.string,inputClassName:_.default.string,placeholder:_.default.oneOfType([_.default.string,_.default.object]),type:_.default.string,valueLink:_.default.object.isRequired,focusOnInit:_.default.bool,multiline:_.default.bool,disabled:_.default.bool,readOnly:_.default.bool,required:_.default.bool,icon:_.default.bool,intl:_.default.object},s.defaultProps={focusOnInit:!1,multiline:!1,disabled:!1,readOnly:!1,required:!1,type:"text"},u=o))||u;t.default=O},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(768),i=a(l),c=function(e){var t=e.children;return u.default.createElement("div",{styleName:"title"},t)};t.default=(0,o.default)(c,i.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(774),i=a(l),c=n(775),d=a(c),f=n(778),p=a(f),h=function(e){var t=e.className,n=e.selectedValue,a=e.onSelect;return u.default.createElement(d.default,{className:t,items:[{title:"ETH",icon:"eth",value:"eth"},{title:"BTC",icon:"btc",value:"btc"},{title:"NOXON",icon:"noxon",value:"noxon"}],selectedValue:n,selectedItemRender:function(e){return u.default.createElement(p.default,e)},itemRender:function(e){return u.default.createElement(p.default,e)},onSelect:a})};t.default=(0,o.default)(h,i.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.iconNames=void 0;var r=n(17),u=a(r),s=n(0),o=a(s),l=n(2),i=a(l),c=n(780),d=a(c),f=n(781),p=a(f),h=n(782),m=a(h),v=n(783),y=a(v),w=n(784),b=a(w),g=n(785),_=a(g),E=n(786),S=a(E),M={btc:p.default,eth:m.default,icx:y.default,waves:b.default,xrp:_.default,nim:S.default},C=t.iconNames=(0,u.default)(M),k=function(e){var t=e.className,n=e.style,a=e.name;return C.includes(a.toLowerCase())?o.default.createElement("img",{className:t,src:M[a],alt:a+" icon",role:"image"}):o.default.createElement("span",{role:"letter",styleName:"text",className:t,style:n},a.charAt(0).toUpperCase())};t.default=(0,i.default)(k,d.default)},,,,,,,,,function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var r=n(819),u=a(r),s=n(820),o=a(s),l=n(821),i=a(l),c=n(822),d=a(c),f=n(823),p=a(f),h=n(824),m=a(h),v=n(825),y=a(v);t.default={notifications:u,modals:o,history:i,loader:d,user:p,feeds:m,orders:y}},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(39),u=a(r),s=n(17),o=a(s),l=n(1),i=a(l),c=n(331),d=a(c),f=n(854),p=a(f),h=function(){function e(){(0,i.default)(this,e)}return e.prototype.setup=function(e){this.network=e.network||d.default.NETWORKS.TESTNET,this.env={},this.swaps={},this.services={},this._addEnv(e.env||{}),this._addServices(e.services||{}),this._addSwaps(e.swaps||{})},e.prototype._addEnv=function(e){(0,o.default)(e).forEach(function(e){if(d.default.ENV.indexOf(e)<0){var t=(0,u.default)(d.default.ENV).replace(/"/g,"'"),n="SwapApp.addEnv(): Only "+t+" available";throw new Error(n)}}),this.env=e,this.env.storage=new p.default(e.storage)},e.prototype._addService=function(e){if(!e._serviceName)throw new Error('SwapApp service should contain "_serviceName" property');if(d.default.SERVICES.indexOf(e._serviceName)<0){var t=(0,u.default)(d.default.SERVICES).replace(/"/g,"'"),n="SwapApp.addServices(): Only "+t+" available";throw new Error(n)}this.services[e._serviceName]=e},e.prototype._addServices=function(e){var t=this;e.forEach(function(e){return t._addService(e)}),(0,o.default)(this.services).forEach(function(e){return t.services[e]._waitRelationsResolve()}),(0,o.default)(this.services).forEach(function(e){return t.services[e]._tryInitService()})},e.prototype._addSwap=function(e){if(!e._swapName)throw new Error('SwapApp swap should contain "_swapName" property');if(d.default.SWAPS.indexOf(e._swapName)<0){var t=(0,u.default)(d.default.SWAPS).replace(/"/g,"'"),n="SwapApp.addSwaps(): Only "+t+" available";throw new Error(n)}this.swaps[e._swapName]=e,"function"==typeof e._initSwap&&e._initSwap()},e.prototype._addSwaps=function(e){var t=this;e.forEach(function(e){t._addSwap(e)})},e.prototype.isMainNet=function(){return this.network.toLowerCase()===d.default.NETWORKS.MAINNET},e.prototype.isTestNet=function(){return this.network.toLowerCase()===d.default.NETWORKS.TESTNET},e}();window.app=new h,t.default=window.app},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(849),u=a(r),s=n(850),o=a(s),l=n(851),i=a(l),c=n(852),d=a(c),f=n(853),p=a(f);t.default={COINS:u.default,ENV:o.default,SERVICES:i.default,SWAPS:d.default,NETWORKS:p.default}},,function(e,t,n){"use strict";t.__esModule=!0;var a=n(18),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){var t=r.default.network+":btc:privateKey",n=e||r.default.env.storage.getItem(t),a=void 0;return n||(n=r.default.env.bitcoin.ECPair.makeRandom({network:r.default.env.bitcoin.networks.testnet}).toWIF()),a=new r.default.env.bitcoin.ECPair.fromWIF(n,r.default.env.bitcoin.networks.testnet),a.__proto__.getPublicKey=function(){return a.getPublicKeyBuffer().toString("hex")},a.__proto__.getPrivateKey=function(){return n},r.default.env.storage.setItem(t,n),a},s=function(e){return{address:e.address,publicKey:e.getPublicKey()}};t.default={login:u,getPublicData:s}},function(e,t,n){"use strict";t.__esModule=!0;var a=n(18),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){var t=r.default.network+":eth:privateKey",n=e||r.default.env.storage.getItem(t),a=void 0;return a=n?r.default.env.web3.eth.accounts.privateKeyToAccount(n):r.default.env.web3.eth.accounts.create(),r.default.env.storage.setItem(t,a.privateKey),r.default.env.web3.eth.accounts.wallet.add(a.privateKey),a},s=function(e){return{address:e.address,publicKey:e.publicKey}};t.default={login:u,getPublicData:s}},function(e,t,n){"use strict";t.__esModule=!0;var a=n(865),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r.default},function(e,t,n){"use strict";t.__esModule=!0;var a=n(18);t.default=new a.Events},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(883),i=a(l),c=n(192),d=a(c),f=function(e){var t=e.className,n=e.names,a=e.size,r=void 0===a?40:a;return u.default.createElement("div",{styleName:"coins",className:t},u.default.createElement(d.default,{name:n[0],size:r}),u.default.createElement(d.default,{name:n[1],size:r}))};t.default=(0,o.default)(f,i.default)},function(e,t){e.exports={"history-filter":"_1QKxEw","history-filter__item":"_1L29kz","history-filter__item_active":"_3clnGG"}},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),u=a(r),s=n(39),o=a(s),l=n(21),i=a(l),c=n(1),d=a(c),f=n(18),p=a(f),h=function(){function e(t){var n=t.swapId,a=t.participantPeer;(0,d.default)(this,e),this.swapId=n,this.peer=a}return e.prototype.subscribe=function(e,t){var n=this;p.default.services.room.events.subscribe(e,function(e){var a=e.fromPeer,r=e.swapId,u=(0,i.default)(e,["fromPeer","swapId"]);a===n.peer&&r===n.swapId&&t(u)})},e.prototype.once=function(e,t){var n=this;p.default.services.room.events.subscribe(e,function(a){var r=a.fromPeer,u=a.swapId,s=(0,i.default)(a,["fromPeer","swapId"]);r===n.peer&&u===n.swapId&&(console.error('INCOME SwapSwapApp.services.room event "'+e+'"'),this.unsubscribe(),t(s))})},e.prototype.sendMessage=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var a=t[0];"string"==typeof a?(console.error('OUTCOME SwapSwapApp.services.room event "'+a+'"'),p.default.services.room.connection.sendTo(this.peer,(0,o.default)([{event:a,swapId:this.swapId}]))):Array.isArray(a)&&(a.forEach(function(e){var t=e.event;console.log('OUTCOME SwapSwapApp.services.room event "'+t+'"')}),p.default.services.room.connection.sendTo(this.peer,(0,o.default)(a)))}else{var r=t[0],s=t[1];console.log('OUTCOME SwapSwapApp.services.room event "'+r+'"'),p.default.services.room.connection.sendTo(this.peer,(0,o.default)([{event:r,data:(0,u.default)({swapId:this.swapId},s)}]))}},e}();t.default=h},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.setupEnv=t.env=void 0;var a=n(17),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u={web3:null,bitcoinJs:null,Ipfs:null,IpfsRoom:null,localStorage:e.localStorage},s=function(e){(0,r.default)(e).forEach(function(t){u[t]=e[t]})};t.env=u,t.setupEnv=s}).call(t,n(10))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),u=a(r),s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(73),p=n(934),h=a(p),m=n(132),v=n(935),y=a(v),w=n(131),b=a(w),g=n(93),_=function(e){function t(){(0,o.default)(this,t);var n=(0,i.default)(this,e.call(this));return n._onMount(),n}return(0,d.default)(t,e),t.prototype._onMount=function(){var e=this;b.default.subscribe("ready",function(){e._persistMyOrders()}),b.default.subscribe("user online",function(t){var n=e.getMyOrders();n.length&&(n=n.map(function(e){return(0,g.pullProps)(e,"id","owner","buyCurrency","sellCurrency","buyAmount","sellAmount","isRequested","isProcessing")}),console.log("Send my orders to "+t,n),b.default.sendMessage(t,[{event:"new orders",data:{orders:n}}]))}),b.default.subscribe("user offline",function(t){var n=e.getPeerOrders(t);n.length&&n.forEach(function(t){var n=t.id;e._handleRemove(n)})}),b.default.subscribe("new orders",function(t){var n=t.fromPeer,a=t.orders,r=a.filter(function(t){var n=t.id;return!e.getByKey(n)});console.log("Receive orders from "+n,r),e._handleMultipleCreate(r)}),b.default.subscribe("new order",function(t){var n=t.order;e._handleCreate(n)}),b.default.subscribe("remove order",function(t){var n=t.orderId;e._handleRemove(n)})},t.prototype._persistMyOrders=function(){var e=this;this.getMyOrders().forEach(function(t){e._handleCreate(t)})},t.prototype._create=function(e){var t=new y.default({collection:this,data:e});return this.append(t,t.id),t},t.prototype._handleCreate=function(e){var t=this._create(e);f.events.dispatch("new order",t)},t.prototype._handleMultipleCreate=function(e){var t=this,n=[];e.forEach(function(e){var a=t._create(e);n.push(a)}),f.events.dispatch("new orders",n)},t.prototype._handleRemove=function(e){var t=this.getByKey(e);this.removeByKey(e),f.events.dispatch("remove order",t)},t.prototype._saveMyOrders=function(){var e=this.items.filter(function(e){return e.owner.peer===m.storage.me.peer});e=e.map(function(e){return(0,g.pullProps)(e,"id","owner","buyCurrency","sellCurrency","buyAmount","sellAmount","participant","requests","isRequested","isProcessing")}),g.localStorage.setItem("myOrders",e)},t.prototype.getMyOrders=function(){return g.localStorage.getItem("myOrders")||[]},t.prototype.getPeerOrders=function(e){return this.items.filter(function(t){var n=t.owner;return e===n.peer})},t.prototype.create=function(e){var t=this._create((0,u.default)({},e,{owner:m.storage.me}));this._saveMyOrders(),b.default.sendMessage([{event:"new order",data:{order:(0,g.pullProps)(t,"id","owner","buyCurrency","sellCurrency","buyAmount","sellAmount","isRequested","isProcessing")}}])},t.prototype.remove=function(e){this.removeByKey(e),b.default.sendMessage([{event:"remove order",data:{orderId:e}}]),this._saveMyOrders()},t}(h.default);t.default=new _},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(55),o=n(14),l=n(2),i=a(l),c=n(943),d=a(c),f=n(944),p=a(f),h=n(945),m=a(h),v=function(e){var t=e.colored,n=e.withLink,a=u.default.createElement("img",{styleName:!n&&"logo",src:t?m.default:p.default,alt:"swap.online logo"});return n?u.default.createElement(s.NavLink,{styleName:"logo",to:o.links.home},a):a};t.default=(0,i.default)(v,d.default)},function(e,t,n){e.exports=n.p+"71af1b68ea0f662eb88996ea7a25bf8a.mp4"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(34),o=a(s),l=n(2),i=a(l),c=n(992),d=a(c),f=function(e){var t=e.children,n=e.inRow;return u.default.createElement("div",{styleName:(0,o.default)("label",{inRow:n})},t)};t.default=(0,i.default)(f,d.default,{allowMultiple:!0})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l=n(1),i=a(l),c=n(3),d=a(c),f=n(4),p=a(f),h=n(0),m=a(h),v=n(7),y=a(v),w=n(34),b=a(w),g=n(13),_=a(g),E=n(2),S=a(E),M=n(1007),C=a(M),k=n(347),x=a(k),T=(r=(0,S.default)(C.default,{allowMultiple:!0}))((o=s=function(e){function t(){var n,a,r;(0,i.default)(this,t);for(var u=arguments.length,s=Array(u),o=0;o<u;o++)s[o]=arguments[o];return n=a=(0,d.default)(this,e.call.apply(e,[this].concat(s))),a.state={mounted:!1,removed:!1},a.close=function(){var e=a.props.name;a.setState({removed:!0},function(){setTimeout(function(){_.default.notifications.hide(e)},300)})},a.soundClick=function(){var e=new Audio;e.src=x.default,e.autoplay=!0},r=n,(0,d.default)(a,r)}return(0,p.default)(t,e),t.prototype.componentDidMount=function(){var e=this;this.soundClick(),setTimeout(function(){e.setState({mounted:!0},function(){setTimeout(e.close,4e3)})},0)},t.prototype.render=function(){var e=this.state,t=e.mounted,n=e.removed,a=this.props,r=a.children,u=a.type,s=(0,b.default)("container",{mounted:t,removed:n}),o=(0,b.default)("notification",{mounted:t,removed:n,info:"info"===u,success:"success"===u,warning:"warning"===u,error:"error"===u});return m.default.createElement("div",{styleName:s},m.default.createElement("div",{styleName:o,onClick:this.close},m.default.createElement("div",{styleName:"content"},r)))},t}(h.Component),s.childContextTypes={close:y.default.func},u=o))||u;t.default=T},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(0),u=a(r),s=n(201),o=a(s),l=n(359),i=a(l),c=n(189),d=a(c),f=n(925),p=a(f);o.default.render(u.default.createElement(p.default,{history:c.history,store:d.default,routes:i.default}),document.getElementById("root"))},,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(97),o=n(55),l=n(14),i=n(627),c=a(i),d=n(890),f=a(d),p=n(901),h=a(p),m=n(907),v=a(m),y=n(908),w=a(y),b=n(921),g=a(b),_=u.default.createElement(o.Switch,null,u.default.createElement(s.Route,{exact:!0,path:l.links.home,component:c.default}),u.default.createElement(s.Route,{path:l.links.balance,component:f.default}),u.default.createElement(s.Route,{path:l.links.history,component:h.default}),u.default.createElement(s.Route,{path:l.links.feed,component:g.default}),u.default.createElement(s.Route,{path:l.links.swap+"/:orderId",component:w.default}),u.default.createElement(s.Route,{component:v.default}));t.default=_},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0;var a=n(102),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=r.default.networks.testnet;t.default={network:u}},,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.default={home:"/",balance:"/balance",history:"/history",swap:"/swap",feed:"/feed"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),u=a(r),s=n(33),o=a(s),l=n(609),i=a(l),c=function(e,t){var n=t.method.toUpperCase()+" "+t.endpoint;return new o.default(function(a,r){return e.end(function(e,u){var s=void 0,o=u.body;try{if(o||(o=JSON.parse(u.text)),u||e?(!u||u.statusCode>=500)&&(s="We`re having technical issues at that moment. Please try again later"):s="Connection failed: "+n,s)throw new Error(s);if(e)return t.onComplete(),r({resData:o,err:e,res:u});var l=t.modifyResult(o);a(l,u),t.onComplete()}catch(e){console.log(e),r(e)}})})},d={sameOrigin:!1,modifyResult:function(e){return e},onComplete:function(){}},f=function(e){var t=(0,u.default)({},d,e),n=i.default[t.method](t.endpoint);t.timeout&&n.timeout((0,u.default)({response:5e3,deadline:6e4},t.timeout)),t.query&&n.query(t.query),t.body&&n.send(t.body),t.sameOrigin&&n.withCredentials();var a=c(n,t);return a.abort=n.abort.bind(n),a},p=function(e){return function(t,n){return f((0,u.default)({},n,{endpoint:t,method:e}))}};t.default={get:p("get"),post:p("post"),patch:p("patch"),put:p("put"),delete:p("delete")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(616),u=a(r),s=n(617),o=a(s),l=n(618),i=a(l),c=n(619),d=a(c);t.default={localStorage:u.default,privateKeyNames:o.default,notifications:i.default,modals:d.default}},function(e,t,n){"use strict";t.__esModule=!0,t.default={privateKeysSaved:"privateKeysSaved"}},function(e,t,n){"use strict";t.__esModule=!0,t.default={eth:"testnet:eth:privateKey",btc:"testnet:btc:privateKey"}},function(e,t,n){"use strict";t.__esModule=!0,t.default={SuccessWithdraw:"SuccessWithdraw",Message:"Message"}},function(e,t,n){"use strict";t.__esModule=!0,t.default={Withdraw:"WithdrawModal",Offer:"OfferModal",PrivateKeys:"PrivateKeysModal"}},function(e,t,n){"use strict";t.__esModule=!0;var a=n(39),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=void 0;try{window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),u=!0}catch(e){u=!1}var s=function(e,t){u&&window.localStorage.setItem(e,(0,r.default)(t))},o=function(e){if(u){var t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}},l=function(e){if(u)return window.localStorage.removeItem(e)},i=function(){u&&window.localStorage.clear()};t.default={setItem:s,getItem:o,removeItem:l,clear:i}},,function(e,t,n){"use strict";t.__esModule=!0;var a=n(17),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u={};return(0,r.default)(a).forEach(function(e){t.includes(e)||(u[e]=a[e])}),u};t.default=u},,,function(e,t,n){"use strict";t.__esModule=!0;var a=function(){var e="CSS1Compat"===(document.compatMode||"");return void 0!==window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:{x:e?document.documentElement.scrollLeft:document.body.scrollLeft,y:e?document.documentElement.scrollTop:document.body.scrollTop}};t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var a=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var a=n.offsetWidth;return e.parentNode.removeChild(e),t-a};t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o=n(1),l=a(o),i=n(3),c=a(i),d=n(4),f=a(d),p=n(0),h=a(p),m=n(88),v=a(m),y=n(315),w=a(y),b=n(128),g=a(b),_=n(770),E=(a(_),n(772)),S=a(E),M=n(13),C=a(M),k=n(848),x=a(k),T=(u=r=function(e){function t(n){var a=n.initialData;(0,l.default)(this,t);var r=(0,c.default)(this,e.call(this));s.call(r);var u=a||{},o=u.buyCurrency,i=u.sellCurrency;return r.state={buyCurrency:o||"eth",sellCurrency:i||"btc"},r}return(0,f.default)(t,e),t.prototype.render=function(){var e=this.state,t=e.buyCurrency,n=e.sellCurrency,a=""+t+n;return h.default.createElement("section",null,h.default.createElement(v.default,null,h.default.createElement(w.default,null,"Swap.Online"),h.default.createElement(g.default,null,"We are working to start swap.online as soon as possible.",h.default.createElement("br",null),"Subscribe to ",h.default.createElement("a",{href:"https://t.me/swaponlineint",onClick:this.handleClickTelegram,target:"_blank"},"telegram")," and ",h.default.createElement("a",{href:"/",target:"_blank",onClick:this.handleClickMailing},"mailing list"))),h.default.createElement(S.default,{updateFilter:this.handleSellCurrencySelect,buyCurrency:t,sellCurrency:n}),h.default.createElement(x.default,{filter:a}))},t}(p.Component),s=function(){var e=this;this.handleSellCurrencySelect=function(t){var n=t.value,a=e.state,r=a.buyCurrency,u=a.sellCurrency;n===u&&(u=r),r=n,e.setState({buyCurrency:r,sellCurrency:u})},this.handleClickTelegram=function(){C.default.analytics.dataEvent("orders-click-telegram-group"),C.default.analytics.dataEvent("orders-click-start-swap")},this.handleClickMailing=function(){C.default.analytics.dataEvent("orders-click-start-swap"),C.default.analytics.dataEvent("orders-click-start-swap")}},u);t.default=T},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={headline:"_0kjEr"}},function(e,t){e.exports={title:"_2DXQm_"}},function(e,t){e.exports={subTitle:"_3xZD8p"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(55),o=n(2),l=a(o),i=n(771),c=a(i),d=function(e){var t=e.children,n=e.to,a=e.redirect,r=e.tab;return n?u.default.createElement(s.NavLink,{styleName:"link"},t):u.default.createElement("a",{styleName:"link",href:a||r,target:r?"_blank":null},t)};t.default=(0,l.default)(d,c.default)},function(e,t){e.exports={link:"_1RXNDW"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(773),i=a(l),c=n(316),d=a(c),f=function(e){var t=e.buyCurrency,n=e.sellCurrency,a=e.updateFilter;return u.default.createElement("div",{styleName:"choice"},u.default.createElement("div",{styleName:"row"},u.default.createElement("p",{styleName:"text"},"You want buy"),u.default.createElement(d.default,{styleName:"currencySelect",selectedValue:t,onSelect:a})),u.default.createElement("div",{styleName:"row"},u.default.createElement("p",{styleName:"text"},"You want sell"),u.default.createElement(d.default,{styleName:"currencySelect",selectedValue:n,onSelect:a})))};t.default=(0,o.default)(f,i.default)},function(e,t){e.exports={currencySelect:"_3OWa5t",choice:"_1Emj0F",row:"xJgabA",text:"fFcGkk"}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l,i,c=n(1),d=a(c),f=n(3),p=a(f),h=n(4),m=a(h),v=n(0),y=a(v),w=n(7),b=a(w),g=n(34),_=a(g),E=n(2),S=a(E),M=n(776),C=a(M),k=n(777),x=a(k),T=(r=(0,x.default)(),u=(0,S.default)(C.default,{allowMultiple:!0}),r(s=u((l=o=function(e){function t(n){var a=n.initialValue,r=n.selectedValue;(0,d.default)(this,t);var u=(0,p.default)(this,e.call(this));return i.call(u),u.state={selectedValue:a||r||0},u}return(0,m.default)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,a=t.items,r=t.isToggleActive,u=(0,_.default)("dropDown",{active:r});return y.default.createElement("div",{styleName:u,className:n},y.default.createElement("div",{styleName:"selectedItem",onClick:this.toggle},y.default.createElement("div",{styleName:"arrow"}),this.renderSelectedItem()),r&&y.default.createElement("div",{styleName:"select"},a.map(function(t){return y.default.createElement("div",{key:t.value,styleName:"option",onClick:function(){return e.handleOptionClick(t)}},e.renderItem(t))})))},t}(v.Component),o.propTypes={initialValue:b.default.oneOfType([b.default.string,b.default.number]),selectedValue:b.default.oneOfType([b.default.string,b.default.number]),items:b.default.arrayOf(b.default.shape({title:b.default.string.isRequired,value:b.default.oneOfType([b.default.string,b.default.number]).isRequired})),selectedItemRender:b.default.func,itemRender:b.default.func,onSelect:b.default.func,isToggleActive:b.default.bool.isRequired,toggleOpen:b.default.func.isRequired,toggleClose:b.default.func.isRequired},i=function(){var e=this;this.toggle=function(){var t=e.props,n=t.isToggleActive,a=t.toggleOpen,r=t.toggleClose;n?r():a()},this.handleOptionClick=function(t){var n=e.props,a=n.toggleClose,r=n.selectedValue,u=n.onSelect;void 0===r&&e.setState({selectedValue:t.value}),"function"==typeof u&&u(t),a()},this.renderSelectedItem=function(){var t=e.props,n=t.items,a=t.selectedItemRender,r=void 0!==e.props.selectedValue?e.props.selectedValue:e.state.selectedValue,u=n.find(function(e){return e.value===r});return"function"==typeof a?a(u):u.title},this.renderItem=function(t){var n=e.props.itemRender;return"function"==typeof n?n(t):t.title}},s=l))||s)||s);t.default=T},function(e,t){e.exports={dropDown:"_3dP7tS",active:"_2ugFLw",arrow:"_3YMxCM",selectedItem:"_3MyRdn",select:"_369zfM",option:"_2DKZg5"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(46),u=a(r),s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{processClick:!1};return function(t){return function(n){function a(){var t,r,u;(0,o.default)(this,a);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=r=(0,i.default)(this,n.call.apply(n,[this].concat(l))),r.state={isToggleActive:!1},r.toggleClose=function(t){e.processClick&&(t.stopPropagation(),document.removeEventListener("click",r.toggleClose)),r.setState({isToggleActive:!1})},r.toggleOpen=function(t){r.state.isToggleActive||(e.processClick&&(t.stopPropagation(),document.addEventListener("click",r.toggleClose)),r.setState({isToggleActive:!0}))},u=t,(0,i.default)(r,u)}return(0,d.default)(a,n),a.prototype.render=function(){return p.default.createElement(t,(0,u.default)({},this.props,this.state,{toggleOpen:this.toggleOpen,toggleClose:this.toggleClose}))},a}(f.PureComponent)}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(779),i=a(l),c=n(317),d=a(c),f=function(e){var t=e.icon,n=e.title;return u.default.createElement(r.Fragment,null,u.default.createElement(d.default,{styleName:"icon",name:t}),n)};t.default=(0,o.default)(f,i.default)},function(e,t){e.exports={icon:"_1ncL6U"}},function(e,t){e.exports={text:"_33KTXr"}},function(e,t){e.exports="https://testnet.swap.online/images/btc_f4b66d.svg"},function(e,t){e.exports="https://testnet.swap.online/images/eth_262e9a.svg"},function(e,t){e.exports="https://testnet.swap.online/images/icx_cda046.svg"},function(e,t){e.exports="https://testnet.swap.online/images/waves_54c731.svg"},function(e,t){e.exports="https://testnet.swap.online/images/xrp_db0377.svg"},function(e,t){e.exports="https://testnet.swap.online/images/nim_954328.svg"},function(e,t,n){"use strict";t.__esModule=!0;var a=n(31),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e,t){return r.default.modals.open({name:e,data:t})},s=function(e){return r.default.modals.close(e)};t.default={open:u,close:s}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.hide=t.show=t.initialState=void 0;var r=n(21),u=a(r),s=n(9),o=a(s),l=(t.initialState={},t.show=function(e,t){var n,a=t.name,r=t.data,u=void 0===r?{}:r;return(0,o.default)({},e,(n={},n[a]={name:a,data:u},n))},function(e,t){e[t];return(0,u.default)(e,[t])});t.hide=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.close=t.open=t.initialState=void 0;var r=n(21),u=a(r),s=n(9),o=a(s),l=305,i=(t.initialState={},t.open=function(e,t){var n,a=t.name,r=t.data,u=void 0===r?{}:r;return(0,o.default)({},e,(n={},n[a]={name:a,data:u,zIndex:++l},n))},function(e,t){var n=(e[t],(0,u.default)(e,[t]));return l-=1,n});t.close=i},function(e,t,n){"use strict";t.__esModule=!0,t.setTransactions=t.setFilter=t.initialState=void 0;var a=n(9),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.initialState={transactions:[],filter:"ALL"},t.setFilter=function(e,t){return(0,r.default)({},e,{filter:t})},t.setTransactions=function(e,t){return(0,r.default)({},e,{transactions:[].concat(e.transactions,t)})}},function(e,t,n){"use strict";t.__esModule=!0,t.setVisibility=t.initialState=void 0;var a=n(9),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.initialState={isVisible:!1},t.setVisibility=function(e,t){return(0,r.default)({},e,{isVisible:t})}},function(e,t,n){"use strict";t.__esModule=!0,t.setTokenData=t.setBalance=t.setAuthData=t.initialState=void 0;var a=n(9),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.initialState={ethData:{address:"0x0",publicKey:"0x0",balance:0,currency:"ETH"},btcData:{address:"0x0",publicKey:"0x0",balance:0,currency:"BTC"},tokenData:{address:"",balance:0,currency:"NOXON"},nimData:{address:"",balance:0,currency:"NIM"}},t.setAuthData=function(e,t){var n,a=t.name,u=t.data;return(0,r.default)({},e,(n={},n[a]=(0,r.default)({},e[a],u),n))},t.setBalance=function(e,t){var n,a=t.name,u=t.amount;return(0,r.default)({},e,(n={},n[a]=(0,r.default)({},e[a],{balance:Number(u)}),n))},t.setTokenData=function(e,t){var n,a=t.name;return(0,r.default)({},e,(n={},n[a]=(0,r.default)({},e[a]),n))}},function(e,t,n){"use strict";t.__esModule=!0,t.deleteItems=t.addItems=t.initialState=void 0;var a=n(9),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.initialState={items:[]},t.addItems=function(e,t){return(0,r.default)({},e,{items:[].concat(t)})},t.deleteItems=function(e,t){return(0,r.default)({},e,{items:t})}},function(e,t,n){"use strict";t.__esModule=!0;t.initialState={filter:"none"},t.ordersFilter=function(e,t){return{filter:t}}},,,,,function(e,t,n){"use strict";t.__esModule=!0;var a=n(31),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){return r.default.loader.setVisibility(!0)},s=function(){return r.default.loader.setVisibility(!1)};t.default={show:u,hide:s}},function(e,t,n){"use strict";t.__esModule=!0;var a=n(31),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e,t){return r.default.notifications.show({name:e,data:t})},s=function(e){return r.default.notifications.hide(e)};t.default={show:u,hide:s}},function(e,t,n){"use strict";t.__esModule=!0;var a=n(31),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){r.default.history.setFilter(e)},s=function(e){r.default.orders.ordersFilter(e)};t.default={setFilter:u,ordersFilter:s}},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(33),u=a(r),s=n(40),o=a(s),l=n(41),i=a(l),c=n(14),d=n(13),f=a(d),p=n(31),h=a(p),m=function(){var e=(0,i.default)(o.default.mark(function e(){var t,n,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem(c.constants.privateKeyNames.btc),n=localStorage.getItem(c.constants.privateKeyNames.eth),a=f.default.ethereum.login(n),f.default.bitcoin.login(t),f.default.token.login(a);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),v=function(){f.default.ethereum.getBalance(),f.default.bitcoin.getBalance(),f.default.token.getBalance()},y=function(){c.request.get("https://swap.wpmix.net/demokeys.php",{}).then(function(t){localStorage.setItem(c.constants.privateKeyNames.btc,t[0]),localStorage.setItem(c.constants.privateKeyNames.eth,t[1]),e.location.reload()})},w=function(e,t){return u.default.all([f.default.bitcoin.getTransaction(t),f.default.ethereum.getTransaction(e),f.default.token.getTransaction(e)]).then(function(e){var t,n=(t=[]).concat.apply(t,[[]].concat(e)).sort(function(e,t){return t.date-e.date});h.default.history.setTransactions(n)})};t.default={sign:m,getBalances:v,getDemoMoney:y,setTransactions:w}}).call(t,n(10))},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),u=a(r),s=n(39),o=a(s),l=n(33),i=a(l),c=n(49),d=a(c),f=n(14),p=n(91),h=n(102),m=a(h),v=n(31),y=a(v),w=n(82),b=a(w),g=function(e){var t=void 0;if(e){var n=m.default.crypto.sha256(e),a=d.default.fromBuffer(n);t=new m.default.ECPair(a,null,{network:f.btc.network})}else console.info("Created account Bitcoin ..."),t=m.default.ECPair.makeRandom({network:f.btc.network}),e=t.toWIF(),localStorage.setItem(f.constants.privateKeyNames.btc,e);var r=new m.default.ECPair.fromWIF(e,f.btc.network),u=r.getAddress(),s=r.getPublicKeyBuffer().toString("hex"),o={account:r,keyPair:t,address:u,privateKey:e,publicKey:s};window.getBtcAddress=function(){return o.address},console.info("Logged in with Bitcoin",o),y.default.user.setAuthData({name:"btcData",data:o})},_=function(){var e=(0,p.getState)(),t=e.user.btcData.address;return f.request.get(b.default.api.bitpay+"/addr/"+t).then(function(e){var t=e.balance;console.log("BTC Balance:",t),y.default.user.setBalance({name:"btcData",amount:t})},function(){return i.default.reject()})},E=function(e){return f.request.get(b.default.api.bitpay+"/addr/"+e).then(function(e){return e.balance})},S=function(e){return new i.default(function(t){var n=b.default.api.blocktrail+"/address/"+e+"/transactions?api_key="+b.default.apiKeys.blocktrail,a=void 0;f.request.get(n).then(function(n){n.total?(a=n.data.map(function(t){return{type:"btc",status:null!=t.block_hash?1:0,value:t.outputs[0].value/1e8,address:t.outputs[0].address,date:new Date(Date.parse(t.time)).getTime(),direction:e.toLocaleLowerCase()===t.outputs[0].address.toLocaleLowerCase()?"in":"out"}}),t(a)):(t([]),console.error("res:status BTC false",n))})})},M=function(e,t,n){return new i.default(function(a,r){var s=(0,p.getState)(),l=s.user.btcData.privateKey,i={inputs:[{addresses:[e]}],outputs:[{addresses:[t],value:1e8*n}]};f.request.post("https://api.blockcypher.com/v1/btc/test3/txs/new",{body:(0,o.default)(i)}).then(function(e){var t=(0,u.default)({},e,{pubkeys:[]}),n=new m.default.ECPair.fromWIF(l,f.btc.network);return t.signatures=t.tosign.map(function(e){return t.pubkeys.push(n.getPublicKeyBuffer().toString("hex")),n.sign(d.default.fromHex(e.toString("hex")).toBuffer()).toDER().toString("hex")}),f.request.post("https://api.blockcypher.com/v1/btc/test3/txs/send",{body:(0,o.default)(t)})}).then(function(e){return a(e)}).catch(function(e){return console.log(e)})})},C=function(e){return f.request.get(b.default.api.bitpay+"/addr/"+e+"/utxo")},k=function(e){return f.request.post(b.default.api.bitpay+"/tx/send",{body:{rawtx:e}})};t.default={login:g,getBalance:_,getTransaction:S,send:M,fetchUnspents:C,broadcastTx:k,fetchBalance:E}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(33),u=a(r),s=n(14),o=n(91),l=n(77),i=a(l),c=n(31),d=a(c),f=n(82),p=a(f),h=function(e){var t=void 0;return e?t=i.default.eth.accounts.privateKeyToAccount(e):(console.info("Created account Ethereum ..."),t=i.default.eth.accounts.create(),localStorage.setItem(s.constants.privateKeyNames.eth,t.privateKey)),i.default.eth.accounts.wallet.add(t.privateKey),d.default.user.setAuthData({name:"ethData",data:t}),window.getEthAddress=function(){return t.address},console.info("Logged in with Ethereum",t),t.privateKey},m=function(){var e=(0,o.getState)(),t=e.user.ethData.address,n=p.default.api.etherscan+"?module=account&action=balance&address="+t+"&tag=latest&apikey="+p.default.apiKeys.etherscan;return s.request.get(n).then(function(e){var t=e.result,n=Number(i.default.utils.fromWei(t));d.default.user.setBalance({name:"ethData",amount:n})}).catch(function(){console.log("app:showError","Ethereum service isn't available, try later")})},v=function(e){var t=p.default.api.etherscan+"?module=account&action=balance&address="+e+"&tag=latest&apikey="+p.default.apiKeys.etherscan;return s.request.get(t).then(function(e){var t=e.result;return Number(i.default.utils.fromWei(t))})},y=function(e){return new u.default(function(t){var n=p.default.api.etherscan+"?module=account&action=txlist&address="+e+"&startblock=0&endblock=99999999&sort=asc&apikey="+p.default.apiKeys.etherscan,a=void 0;s.request.get(n).then(function(n){n.status?(a=n.result.filter(function(e){return e.value>0}).map(function(t){return{type:"eth",status:null!=t.blockHash?1:0,value:i.default.utils.fromWei(t.value),address:t.to,date:1e3*t.timeStamp,direction:e.toLowerCase()===t.to.toLowerCase()?"in":"out"}}),t(a)):console.error("res:status ETH false",n)})})},w=function(e,t,n){return new u.default(function(e,a){var r=(0,o.getState)(),u=r.user.ethData.privateKey,s={to:String(t).trim(),gasPrice:"20000000000",gas:"21000",value:i.default.utils.toWei(String(n))};i.default.eth.accounts.signTransaction(s,u).then(function(e){return i.default.eth.sendSignedTransaction(e.rawTransaction)}).then(function(t){e(t)})})};t.default={login:h,getBalance:m,getTransaction:y,send:w,fetchBalance:v}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(33),u=a(r),s=n(839),o=a(s),l=n(14),i=n(91),c=n(77),d=a(c),f=n(31),p=a(f),h=n(82),m=a(h),v=void 0,y=function(e){if(!d.default.eth.accounts.wallet[e])throw new Error("web3 does not have given address");var t={from:e,gas:""+m.default.services.web3.gas,gasPrice:""+m.default.services.web3.gasPrice};v=new d.default.eth.Contract(o.default,m.default.services.web3.noxonToken,t)},w=function(e){var t=void 0;e?t=d.default.eth.accounts.privateKeyToAccount(e):(console.info("Created account ETH Token ..."),t=d.default.eth.accounts.create(),d.default.eth.accounts.wallet.add(t)),d.default.eth.accounts.wallet.add(t.privateKey),console.info("Logged in with ETH Token",t),p.default.user.setAuthData({name:"tokenData",data:t}),y(t.address)},b=function(){var e=(0,i.getState)(),t=e.user.ethData.address;return l.request.get(m.default.api.etherscan+"?module=account&action=tokenbalance&contractaddress="+v._address+"&address="+t).then(function(e){var t=e.result;console.log("tokenAddress",v._address),console.log("result",t),p.default.user.setBalance({name:"tokenData",amount:t})}).catch(function(e){return console.error("Token service isn't available, try later")})},g=function(e){return l.request.get("https://rinkeby.etherscan.io/api?module=account&action=tokenbalance&contractaddress=0x60c205722c6c797c725a996cf9cca11291f90749&address="+e).then(function(e){return e.result})},_=function(e){return new u.default(function(t){var n=["https://api-rinkeby.etherscan.io/api?module=account&action=tokentx","&contractaddress="+m.default.services.web3.noxonToken,"&address="+e,"&startblock=0&endblock=99999999","&sort=asc&apikey="+m.default.apiKeys.blocktrail].join(""),a=void 0;l.request.get(n).then(function(n){console.log("res",n),n.status?(a=n.result.filter(function(e){return e.value>0}).map(function(t){return{type:t.tokenName,contractAddress:t.contractAddress,status:null!=t.blockHash?1:0,value:t.value,address:t.to,date:1e3*t.timeStamp,direction:e.toLowerCase()===t.to.toLowerCase()?"in":"out"}}),t(a)):console.error("res:status ETH false",n)})})},E=function(e,t,n){return new u.default(function(e,a){return v.methods.transfer(t,n).send().then(function(t){e(t)})})};t.default={login:w,getBalance:b,getTransaction:_,send:E,fetchBalance:g}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(40),u=a(r),s=n(33),o=a(s),l=n(41),i=a(l),c=function(){var e=(0,i.default)(u.default.mark(function e(t){var n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,v.ethKeyToKeyPair)(t),e.abrupt("return",new window.Nimiq.Wallet(n));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.default)(u.default.mark(function e(){var t=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:if(!g){e.next=6;break}return e.abrupt("return",g);case 6:if(!_){e.next=8;break}return e.abrupt("return",o.default.resolve());case 8:return g=new o.default(function(){var e=(0,i.default)(u.default.mark(function e(n){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.nim=y,e.next=3,window.Nimiq.Consensus.nano();case 3:y.consensus=e.sent,y.blockchain=y.consensus.blockchain,y.accounts=y.blockchain.accounts,y.mempool=y.consensus.mempool,y.network=y.consensus.network,y.consensus.on("established",function(){window.Nimiq.Log.i("Consensus","Current state: height="+y.blockchain.height+", headHash="+y.blockchain.headHash),n()}),y.network.connect();case 10:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",g);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),f=n(31),p=a(f),h=n(82),m=a(h),v=n(841),y={},w=void 0,b=!1,g=void 0,_=!1,E="mainnet"===m.default.entry?"main":"test",S=function(){var e=(0,i.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=4;break}return e.abrupt("return",w);case 4:if(!b){e.next=6;break}return e.abrupt("return",o.default.resolve());case 6:return w=new o.default(function(e,t){window.Nimiq?window.Nimiq.init(function(){b=!0,window.Nimiq.GenesisConfig.init(window.Nimiq.GenesisConfig.CONFIGS[E]),e()}):(console.error("Nimiq not present, add from CDN: https://cdn.nimiq.com/nimiq.js"),t())}),e.abrupt("return",w);case 8:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,i.default)(u.default.mark(function e(t){var n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.next=4,c(t);case 4:return y.wallet=e.sent,n={balance:0,address:y.wallet.address.toUserFriendlyAddress()},window.getNimAddress=function(){return n.address},console.info("Logged in with Nimiq",n),p.default.user.setAuthData({name:"nimData",data:n}),e.abrupt("return",n);case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,i.default)(u.default.mark(function e(){var t,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.next=4,y.consensus.getAccount(y.wallet.address);case 4:return t=e.sent,n=window.Nimiq.Policy.satoshisToCoins(t.balance).toFixed(0),p.default.user.setBalance({name:"nimData",amount:n}),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),k=function(){},x=function(){var e=(0,i.default)(u.default.mark(function e(t,n,a){var r,s,o,l,i,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return r=(0,v.prepareTransaction)(y,n,a),s=r.addr,o=r.value,l=r.fee,i=r.height,c=y.wallet.createTransaction(s,o,l,i),y.consensus.relayTransaction(c),y.consensus.subscribeAccounts([c.recipient]),window.Nimiq.Log.i("TX","Waiting for Nimiq transaction ["+c.hash().toHex()+"] to confirm, please wait..."),(0,v.followTransaction)(y,c).then(function(){return window.Nimiq.Log.i("TX","Nimiq transaction ["+c.hash().toHex()+"] confirmed!")}).then(function(){return C()}),e.abrupt("return",c);case 9:case"end":return e.stop()}},e,void 0)}));return function(t,n,a){return e.apply(this,arguments)}}();t.default={login:M,getBalance:C,getTransaction:k,send:x}},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.prepareTransaction=t.followTransaction=t.ethKeyToKeyPair=void 0;var a=n(33),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(t){if(!window.Nimiq)throw new Error("include Nimiq from CDN");var n="0x"===t.slice(0,2)?t.substring(2):t,a=e.from(n,"hex"),r=new window.Nimiq.PrivateKey(a),u=window.Nimiq.PublicKey.derive(r);return new window.Nimiq.KeyPair(r,u)},s=function(e,t){return new r.default(function(n){var a=e.mempool.on("transaction-mined",function(r){t.equals(r)&&(e.mempool.off("transaction-mined",a),n())})})},o=function(e,t,n){var a=e.blockchain.height+1;return{addr:window.Nimiq.Address.fromUserFriendlyAddress(t),value:window.Nimiq.Policy.coinsToSatoshis(n),fee:window.Nimiq.Policy.coinsToSatoshis(0),height:a}};t.ethKeyToKeyPair=u,t.followTransaction=s,t.prepareTransaction=o}).call(t,n(6).Buffer)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(17),u=a(r),s=n(31),o=a(s),l=n(91),i=function(e){var t=e.filter(function(e){return 0!==e.request.length});o.default.feeds.addItems(t)},c=function(e){var t=(0,l.getState)(),n=t.feeds,a=(0,u.default)(n).map(function(e){return n[e]}).filter(function(t){return t.id===e});console.log(a),o.default.feeds.deleteItems(a)},d=function(e){var t=e.map(function(e){return{peer:e.owner.peer,id:e.id,content:{sellCurrency:e.sellCurrency,buyCurrency:e.buyCurrency,sellAmount:e.sellAmount,buyAmount:e.buyAmount},request:e.requests}});i(t)};t.default={getFeedDataFromOrder:d,deleteItemToFeed:c}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(31),u=a(r),s=n(844),o=a(s),l=function(e){return u.default.addEvent(e)},i=function(e){window.dataLayer=window.dataLayer?window.dataLayer:[],window.dataLayer.push({event:e}),console.log(window.dataLayer)},c={gtmId:"GTM-WK72GSV",dataLayerName:"dataLayer"};o.default.initialize(c),t.default={addEvent:l,dataEvent:i}},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r=n(1),u=a(r),s=n(3),o=a(s),l=n(4),i=a(l),c=n(0),d=a(c),f=n(92),p=n(13),h=a(p),m=n(882),v=a(m),y=n(193),w=a(y),b=function(e){function t(){var n,a,r;(0,u.default)(this,t);for(var s=arguments.length,l=Array(s),i=0;i<s;i++)l[i]=arguments[i];return n=a=(0,o.default)(this,e.call.apply(e,[this].concat(l))),a.state={orders:f.swapApp.services.orders.items},a.updateOrders=function(){a.setState({orders:f.swapApp.services.orders.items});var e=a.state.orders;0!==e.length&&h.default.feed.getFeedDataFromOrder(e)},a.filterOrders=function(e,t){return e.filter(function(e){return""+e.buyCurrency+e.sellCurrency===t})},r=n,(0,o.default)(a,r)}return(0,i.default)(t,e),t.prototype.componentWillMount=function(){h.default.analytics.dataEvent("open-page-orders"),f.swapApp.services.orders.on("new orders",this.updateOrders).on("new order",this.updateOrders).on("order update",this.updateOrders).on("remove order",this.updateOrders)},t.prototype.componentWillUnmount=function(){f.swapApp.services.orders.off("new orders",this.updateOrders).off("new order",this.updateOrders).off("order update",this.updateOrders).off("remove order",this.updateOrders)},t.prototype.render=function(){var e=this,t=["EXCHANGE","BUY","SELL","EXCHANGE RATE",""],n=this.state.orders,a=this.props.filter,r=this.filterOrders(n,a);return d.default.createElement(w.default,{titles:t,rows:r,rowRender:function(t,n){return d.default.createElement(v.default,{key:n,row:t,update:e.updateOrders})}})},t}(c.Component);t.default=b},function(e,t,n){"use strict";t.__esModule=!0,t.default=["eth","btc","nim"]},function(e,t,n){"use strict";t.__esModule=!0,t.default=["web3","bitcoin","Ipfs","IpfsRoom","storage"]},function(e,t,n){"use strict";t.__esModule=!0,t.default=["auth","room","orders","swaps"]},function(e,t,n){"use strict";t.__esModule=!0,t.default=["ethSwap","ethTokenSwap","btcSwap"]},function(e,t,n){"use strict";t.__esModule=!0,t.default={MAINNET:"mainnet",TESTNET:"testnet"}},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(39),u=a(r),s=n(1),o=a(s),l=function(){function t(n){(0,o.default)(this,t),this.prefix="swap:",this.storage=n||e.localStorage;try{this.storage.setItem("test","test"),this.storage.getItem("test"),this.storage.removeItem("test")}catch(e){throw new Error("SwapApp.env.StorageFactory: "+e)}}return t.prototype.setItem=function(e,t){this.storage.setItem(""+this.prefix+e,(0,u.default)(t))},t.prototype.getItem=function(e){var t=this.storage.getItem(""+this.prefix+e);try{return JSON.parse(t)}catch(e){return}},t.prototype.removeItem=function(e){return this.storage.removeItem(""+this.prefix+e)},t}();t.default=l}).call(t,n(10))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(17),u=a(r),s=n(1),o=a(s),l=n(330),i=a(l),c=function(){function e(){(0,o.default)(this,e),this._constructor()}return e.prototype._constructor=function(){this._serviceName=null,this._dependsOn=null,this._spyHandlers=[]},e.prototype._waitRelationsResolve=function(){var e=this;if(this._dependsOn&&this._dependsOn.length){var t={};this._dependsOn.forEach(function(n){t[n.name]={initialized:!1},i.default.services[n.name]._addWaitRelationHandler(function(){e._dependsOn[n.name].initialized=!0,(0,u.default)(e._dependsOn).every(function(t){return e._dependsOn[t].initialized})&&e.initService()})}),this._dependsOn=t}},e.prototype._addWaitRelationHandler=function(e){this._spyHandlers.push(e)},e.prototype._tryInitService=function(){this._dependsOn||(this.initService(),this._spyHandlers.forEach(function(e){return e()}),this._spyHandlers=[])},e.prototype.initService=function(){},e}();t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var a=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(){(0,r.default)(this,e),this._serviceName=null}return e.prototype._initSwap=function(){},e}();t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(17),u=a(r),s=n(9),o=a(s),l=n(1),i=a(l),c=function(){function e(){(0,i.default)(this,e),this._constructor()}return e.prototype._constructor=function(){this.items=[],this.itemIds={}},e.prototype.prepend=function(e,t){if(this.items.unshift(e),t){for(var n in this.itemIds)this.itemIds.hasOwnProperty(n)&&(this.itemIds[n]+=1);this.itemIds[t]=0}return e},e.prototype.append=function(e,t){return this.items.push(e),t&&(this.itemIds[t]=this.items.length-1),e},e.prototype.removeByIndex=function(e){this.items=this.items.splice(e,1)},e.prototype.removeByKey=function(e){var t=this;console.log("removeByKey",e),console.log("items",[].concat(this.items)),console.log("itemIds",(0,o.default)({},this.itemIds));var n=this.itemIds[e];console.log("index",n),void 0!==n&&(this.items.splice(n,1),delete this.itemIds[e],console.log("items after removing",[].concat(this.items)),(0,u.default)(this.itemIds).forEach(function(e){t.itemIds[e]>n&&t.itemIds[e]--}),console.log("items after reindexing",[].concat(this.items)))},e.prototype.indexOf=function(e){return this.items.indexOf(e)},e.prototype.getByIndex=function(e){return this.items[e]},e.prototype.getByKey=function(e){return this.items[this.itemIds[e]]},e.prototype.isExist=function(e){return this.items.includes(e)},e.prototype.isExistByKey=function(e){return Boolean(this.getByKey(e))},e}();t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.events=void 0;var a=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(t){(0,r.default)(this,e),this.name=t,this.handlers=[]}return e.prototype.addHandler=function(e){var t=this;this.handlers.push(e.bind({unsubscribe:function(){t.removeHandler(e)}}))},e.prototype.removeHandler=function(e){var t=this.handlers.indexOf(e);this.handlers.splice(t,1)},e.prototype.call=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.handlers.forEach(function(e){try{e.apply(void 0,t)}catch(e){console.error(e)}})},e}(),s=function(){function e(){(0,r.default)(this,e),this.events={}}return e.prototype.getEvent=function(e){var t=this.events[e];return t||(t=new u(e),this.events[e]=t),t},e.prototype.subscribe=function(e,t){var n=this.getEvent(e);return n.addHandler(t),{event:n,handler:t}},e.prototype.unsubscribe=function(e,t){this.getEvent(e).removeHandler(t)},e.prototype.dispatch=function(e){var t=this.getEvent(e);if(t){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];t.call.apply(t,a)}},e.prototype.once=function(e,t){var n=this.getEvent(e),a=function e(){t.apply(void 0,arguments)&&n.removeHandler(e)};return n.addHandler(a),{event:n,handlerWrapper:a}},e}(),o=new s;t.default=s,t.events=o},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(860),u=a(r),s=n(861),o=a(s);t.default={pullProps:u.default,ignoreProps:o.default}},function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r={};return n.forEach(function(t){r[t]=e[t]}),r};t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var a=n(17),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u={};return(0,r.default)(a).forEach(function(e){t.includes(e)||(u[e]=a[e])}),u};t.default=u},,,function(e,t,n){function a(e){return n(r(e))}function r(e){var t=u[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var u={"./":129,"./SwapAuth":190,"./SwapAuth.js":190,"./btc":333,"./btc.js":333,"./eth":334,"./eth.js":334,"./index":129,"./index.js":129};a.keys=function(){return Object.keys(u)},a.resolve=r,e.exports=a,a.id=864},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(39),u=a(r),s=n(117),o=a(s),l=n(9),i=a(l),c=n(1),d=a(c),f=n(3),p=a(f),h=n(191),m=a(h),v=n(4),y=a(v),w=n(18),b=a(w),g=function(e){function t(n){(0,d.default)(this,t);var a=(0,p.default)(this,e.call(this));if(a.handleUserOnline=function(e){e!==a.peer&&a.events.dispatch("user online",e)},a.handleUserOffline=function(e){e!==a.peer&&a.events.dispatch("user offline",e)},a.handleNewMessage=function(e){if(e.from!==a.peer){var t=JSON.parse(e.data.toString());t&&t.length&&t.forEach(function(t){var n=t.event,r=t.data;a.events.dispatch(n,(0,i.default)({},r||{},{fromPeer:e.from}))})}},!n||"object"!==(void 0===n?"undefined":(0,o.default)(n)))throw new Error('SwapRoomService: "config" of type object required');return a._serviceName="room",a.events=new w.Events,a.config=n,a.peer=null,a}return(0,y.default)(t,e),(0,m.default)(t,null,[{key:"name",get:function(){return"room"}}]),t.prototype.initService=function(){var e=this;if(!b.default.env.Ipfs)throw new Error("SwapRoomService: Ipfs required");if(!b.default.env.IpfsRoom)throw new Error("SwapRoomService: IpfsRoom required");var t=new b.default.env.Ipfs(this.config);t.once("error",function(e){console.log("IPFS error!",e)}),t.once("ready",function(){return t.id(function(n,a){if(console.info("IPFS ready!",a),n)throw n;e._init({peer:a.id,ipfsConnection:t})})})},t.prototype._init=function(e){var t=e.peer,n=e.ipfsConnection;this.peer=t,this.connection=b.default.env.IpfsRoom(n,"../swap.online",{pollInterval:5e3}),this.connection.on("peer joined",this.handleUserOnline),this.connection.on("peer left",this.handleUserOffline),this.connection.on("message",this.handleNewMessage),this.events.dispatch("ready")},t.prototype.subscribe=function(e,t){this.events.subscribe(e,t)},t.prototype.once=function(e,t){this.events.once(e,t)},t.prototype.sendMessage=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var a=t[0];this.connection.broadcast((0,u.default)(a))}else{var r=t[0],s=t[1];this.connection.sendTo(r,(0,u.default)(s))}},t}(w.ServiceInterface);t.default=g},function(e,t,n){"use strict";t.__esModule=!0;var a=n(867),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),u=a(r),s=n(1),o=a(s),l=n(3),i=a(l),c=n(191),d=a(c),f=n(4),p=a(f),h=n(18),m=a(h),v=n(335),y=a(v),w=n(868),b=a(w),g=n(336),_=a(g),E=n(877),S=a(E),M=function(){var e=Date.now();return function(){return m.default.services.room.peer+"-"+ ++e}}(),C=function(e){function t(){(0,o.default)(this,t);var n=(0,i.default)(this,e.call(this));return n._serviceName="orders",n._dependsOn=[y.default],n}return(0,p.default)(t,e),(0,d.default)(t,null,[{key:"name",get:function(){return"orders"}}]),t.prototype.initService=function(){var e=this;m.default.services.room.subscribe("ready",function(){e._persistMyOrders()}),m.default.services.room.subscribe("user online",function(t){var n=e.getMyOrders();n.length&&(n=n.map(function(e){return h.util.pullProps(e,"id","owner","buyCurrency","sellCurrency","buyAmount","sellAmount","isRequested","isProcessing")}),console.log("Send my orders to "+t,n),m.default.services.room.sendMessage(t,[{event:"new orders",data:{orders:n}}]))}),m.default.services.room.subscribe("user offline",function(t){var n=e.getPeerOrders(t);n.length&&n.forEach(function(t){var n=t.id;e._handleRemove(n)})}),m.default.services.room.subscribe("new orders",function(t){var n=t.fromPeer,a=t.orders,r=a.filter(function(t){var a=t.id,r=t.owner.peer;return!e.getByKey(a)&&r===n});console.log("Receive orders from "+n,r),e._handleMultipleCreate(r)}),m.default.services.room.subscribe("new order",function(t){var n=t.fromPeer,a=t.order;a&&a.owner&&a.owner.peer===n&&e._handleCreate(a)}),m.default.services.room.subscribe("remove order",function(t){var n=t.fromPeer,a=t.orderId,r=e.getByKey(a);r&&r.owner&&r.owner.peer===n&&e._handleRemove(a)})},t.prototype._persistMyOrders=function(){var e=this;this.getMyOrders().forEach(function(t){e._handleCreate(t)})},t.prototype._create=function(e){var t=new S.default(this,(0,u.default)({},e,{id:e.id||M()}));return this.append(t,t.id),t},t.prototype._handleCreate=function(e){var t=this._create(e);_.default.dispatch("new order",t)},t.prototype._handleMultipleCreate=function(e){var t=this,n=[];e.forEach(function(e){var a=t._create(e);n.push(a)}),_.default.dispatch("new orders",n)},t.prototype._handleRemove=function(e){var t=this.getByKey(e);this.removeByKey(e),_.default.dispatch("remove order",t)},t.prototype._saveMyOrders=function(){var e=this.items.filter(function(e){return e.owner.peer===m.default.services.room.peer});e=e.map(function(e){return h.util.pullProps(e,"id","owner","buyCurrency","sellCurrency","buyAmount","sellAmount","participant","requests","isRequested","isProcessing")}),m.default.env.storage.setItem("myOrders",e)},t.prototype.getMyOrders=function(){return m.default.env.storage.getItem("myOrders")||[]},t.prototype.getPeerOrders=function(e){return this.items.filter(function(t){var n=t.owner;return e===n.peer})},t.prototype.create=function(e){var t=this._create((0,u.default)({},e,{owner:m.default.services.auth.getPublicData()}));this._saveMyOrders(),m.default.services.room.sendMessage([{event:"new order",data:{order:h.util.pullProps(t,"id","owner","buyCurrency","sellCurrency","buyAmount","sellAmount","isRequested","isProcessing")}}])},t.prototype.remove=function(e){this.removeByKey(e),m.default.services.room.sendMessage([{event:"remove order",data:{orderId:e}}]),this._saveMyOrders()},t.prototype.on=function(e,t){return _.default.subscribe(e,t),this},t.prototype.off=function(e,t){return _.default.unsubscribe(e,t),this},t}((0,b.default)(h.ServiceInterface,h.Collection));t.default=C},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(869),u=a(r),s=n(332),o=a(s),l=n(872),i=a(l),c=n(874),d=a(c),f=n(1),p=a(f),h=n(3),m=a(h),v=n(4),y=a(v),w=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=function(e){function t(){(0,p.default)(this,t);for(var a=arguments.length,r=Array(a),u=0;u<a;u++)r[u]=arguments[u];var s=(0,m.default)(this,e.call.apply(e,[this].concat(r)));return n.forEach(function(e){e.prototype._constructor.call(s)}),s}return(0,y.default)(t,e),t}(e),s=function(e,t){(0,d.default)(t).concat((0,i.default)(t)).forEach(function(n){n.match(/^(?:_?constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||(0,o.default)(e,n,(0,u.default)(t,n))})};return n.forEach(function(e){s(r.prototype,e.prototype),s(r,e)}),r};t.default=w},,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(17),u=a(r),s=n(9),o=a(s),l=n(1),i=a(l),c=n(18),d=a(c),f=n(336),p=a(f),h=function(){function e(t,n){(0,i.default)(this,e),this.id=n.id,this.isMy=null,this.owner=null,this.participant=null,this.buyCurrency=null,this.sellCurrency=null,this.buyAmount=null,this.sellAmount=null,this.collection=t,this.requests=[],this.isRequested=!1,this.isProcessing=!1,this._update((0,o.default)({},n,{isMy:n.owner.peer===d.default.services.room.peer})),this._onMount()}return e.prototype._onMount=function(){var e=this;d.default.services.room.subscribe("request swap",function(t){var n=t.orderId,a=t.participant;n!==e.id||e.requests.find(function(e){return e.peer===a.peer})||(e.requests.push(a),p.default.dispatch("new order request",{orderId:n,participant:a}))})},e.prototype._update=function(e){var t=this;(0,u.default)(e).forEach(function(n){t[n]=e[n]})},e.prototype.update=function(e){this._update(e),this.collection._saveMyOrders(),p.default.dispatch("swap update",this,e)},e.prototype.sendRequest=function(e){var t=this;return d.default.services.room.peer===this.owner.peer?void console.warn("You are the owner of this Order. You can't send request to yourself."):this.isRequested?void console.warn("You have already requested this swap."):(this.update({isRequested:!0}),d.default.services.room.sendMessage(this.owner.peer,[{event:"request swap",data:{orderId:this.id,participant:d.default.services.auth.getPublicData()}}]),d.default.services.room.subscribe("accept swap request",function(n){n.orderId===t.id&&(this.unsubscribe(),t.update({isProcessing:!0,isRequested:!1}),e(!0))}),void d.default.services.room.subscribe("decline swap request",function(n){n.orderId===t.id&&(this.unsubscribe(),t.update({isRequested:!1}),e(!1))}))},e.prototype.acceptRequest=function(e){var t=this.requests.find(function(t){return t.peer===e});this.update({isRequested:!1,isProcessing:!0,participant:t,requests:[]}),d.default.services.room.sendMessage(e,[{event:"accept swap request",data:{orderId:this.id}}])},e.prototype.declineRequest=function(e){var t=void 0;this.requests.some(function(n,a){return n.peer===e&&(t=a),void 0!==t});var n=[].concat(this.requests.slice(0,t),this.requests.slice(t+1));this.update({isRequested:!1,requests:n}),d.default.services.room.sendMessage(e,[{event:"decline swap request",data:{orderId:this.id}}])},e}();t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.EthTokenSwap=t.BtcSwap=t.EthSwap=void 0;var r=n(879),u=a(r),s=n(880),o=a(s),l=n(881),i=a(l);t.EthSwap=u.default,t.BtcSwap=i.default,t.EthTokenSwap=o.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(40),u=a(r),s=n(41),o=a(s),l=n(33),i=a(l),c=n(1),d=a(c),f=n(3),p=a(f),h=n(4),m=a(h),v=n(18),y=a(v),w=function(e){function t(n){(0,d.default)(this,t);var a=(0,p.default)(this,e.call(this));if("function"!=typeof n.fetchBalance)throw new Error('EthSwap: "fetchBalance" required');if("string"!=typeof n.address)throw new Error('EthSwap: "address" required');if(!Array.isArray(n.abi))throw new Error('EthSwap: "abi" required');return a.address=n.address,a.abi=n.abi,a._swapName="ethSwap",a.gasLimit=n.gasLimit||3e6,a.fetchBalance=n.fetchBalance,a}return(0,m.default)(t,e),t.prototype._initSwap=function(){this.contract=new y.default.env.web3.eth.Contract(this.abi,this.address)},t.prototype.sign=function(e,t){var n=this,a=e.participantAddress;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(r,s){var o,l;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={from:y.default.services.auth.accounts.eth.address,gas:n.gasLimit},e.next=3,n.contract.methods.sign(a).send(o).on("transactionHash",function(e){"function"==typeof t&&t(e)}).on("error",function(e){s(e)});case 3:l=e.sent,r(l);case 5:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())},t.prototype.create=function(e,t){var n=this,a=e.secretHash,r=e.participantAddress,s=e.amount;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(o,l){var i,c,d,f,p;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c="0x"+a.replace(/^0x/,""),d={from:y.default.services.auth.accounts.eth.address,gas:n.gasLimit,value:Math.floor(y.default.env.web3.utils.toWei(String(s)))},f=[c,r],e.next=5,(i=n.contract.methods).createSwap.apply(i,f).send(d).on("transactionHash",function(e){"function"==typeof t&&t(e)}).on("error",function(e){l(e)});case 5:p=e.sent,o(p);case 7:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())},t.prototype.withdraw=function(e,t){var n=this,a=e.ownerAddress,r=e.secret;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(s,o){var l,i,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l="0x"+r.replace(/^0x/,""),i={from:y.default.services.auth.accounts.eth.address,gas:n.gasLimit},e.next=4,n.contract.methods.withdraw(l,a).send(i).on("transactionHash",function(e){"function"==typeof t&&t(e)}).on("error",function(e){o(e)});case 4:c=e.sent,s(c);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())},t.prototype.refund=function(){},t.prototype.getSecret=function(e){var t=this,n=e.participantAddress;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(a,r){var s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=void 0,e.prev=1,e.next=4,t.contract.methods.getSecret(n).call({from:y.default.services.auth.accounts.eth.address});case 4:s=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r(e.t0);case 10:a(s);case 11:case"end":return e.stop()}},e,t,[[1,7]])}));return function(t,n){return e.apply(this,arguments)}}())},t.prototype.close=function(e,t){var n=this,a=e.participantAddress;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(r,s){var o,l;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={from:y.default.services.auth.accounts.eth.address,gas:n.gasLimit},e.next=3,n.contract.methods.close(a).send(o).on("transactionHash",function(e){"function"==typeof t&&t(e)}).on("error",function(e){s(e)});case 3:l=e.sent,r(l);case 5:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())},t}(v.SwapInterface);t.default=w},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(40),u=a(r),s=n(41),o=a(s),l=n(33),i=a(l),c=n(1),d=a(c),f=n(3),p=a(f),h=n(4),m=a(h),v=n(18),y=a(v),w=function(e){function t(n){(0,d.default)(this,t);var a=(0,p.default)(this,e.call(this));if("string"!=typeof n.address)throw new Error('EthTokenSwap: "address" required');if(!Array.isArray(n.abi))throw new Error('EthTokenSwap: "abi" required');if("string"!=typeof n.tokenAddress)throw new Error('EthTokenSwap: "tokenAddress" required');if(!Array.isArray(n.tokenAbi))throw new Error('EthTokenSwap: "tokenAbi" required');return a._swapName="ethTokenSwap",a.address=n.address,a.abi=n.abi,a.tokenAddress=n.tokenAddress,a.tokenAbi=n.tokenAbi,a.gasLimit=n.gasLimit||3e6,a.fetchBalance=n.fetchBalance,a}return(0,m.default)(t,e),t.prototype._initSwap=function(){this.contract=new y.default.env.web3.eth.Contract(this.abi,this.address),this.ERC20=new y.default.env.web3.eth.Contract(this.tokenAbi,this.tokenAddress)},t.prototype.sign=function(e,t){var n=this,a=e.participantAddress;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(r,s){var o,l;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={from:y.default.services.auth.accounts.eth.address,gas:n.gasLimit},e.prev=1,e.next=4,n.contract.methods.sign(a).send(o).on("transactionHash",function(e){"function"==typeof t&&t(e)}).on("error",function(e){s(e)});case 4:l=e.sent,r(l),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s(e.t0);case 11:case"end":return e.stop()}},e,n,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}())},t.prototype.approve=function(e,t){var n=this,a=e.amount;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(r,s){var o;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.ERC20.methods.approve(n.address,a).send({from:y.default.services.auth.accounts.eth.address,gas:n.gasLimit}).on("transactionHash",function(e){"function"==typeof t&&t(e)}).on("error",function(e){s(e)});case 3:o=e.sent,r(o),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s(e.t0);case 10:case"end":return e.stop()}},e,n,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}())},t.prototype.checkAllowance=function(e){var t=this,n=e.owner,a=e.spender;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(r,s){var o;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.ERC20.methods.allowance(n,a).call({from:y.default.services.auth.accounts.eth.address});case 3:o=e.sent,r(o),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}())},t.prototype.create=function(e,t){var n=this,a=e.secretHash,r=e.participantAddress,s=e.amount;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(o,l){var i,c,d,f,p;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="0x"+a.replace(/^0x/,""),c=[i,r,s,n.tokenAddress],d={from:y.default.services.auth.accounts.eth.address,gas:n.gasLimit},e.prev=3,e.next=6,(f=n.contract.methods).createSwap.apply(f,c).send(d).on("transactionHash",function(e){"function"==typeof t&&t(e)}).on("error",function(e){l(e)});case 6:p=e.sent,o(p),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),l(e.t0);case 13:case"end":return e.stop()}},e,n,[[3,10]])}));return function(t,n){return e.apply(this,arguments)}}())},t.prototype.withdraw=function(e,t){var n=this,a=e.ownerAddress,r=e.secret;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(s,o){var l,i,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l="0x"+r.replace(/^0x/,""),i={from:y.default.services.auth.accounts.eth.address,gas:n.gasLimit},e.prev=2,e.next=5,n.contract.methods.withdraw(l,a).send(i).on("transactionHash",function(e){"function"==typeof t&&t(e)}).on("error",function(e){o(e)});case 5:c=e.sent,s(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),o(e.t0);case 12:case"end":return e.stop()}},e,n,[[2,9]])}));return function(t,n){return e.apply(this,arguments)}}())},t.prototype.refund=function(){},t.prototype.getSecret=function(e){var t=this,n=e.participantAddress;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(a,r){var s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.contract.methods.getSecret(n).call({from:y.default.services.auth.accounts.eth.address});case 3:s=e.sent,a(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}())},t.prototype.close=function(e,t){var n=this,a=e.participantAddress;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(r,s){var o,l;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={from:y.default.services.auth.accounts.eth.address,gas:n.gasLimit},e.prev=1,e.next=4,n.contract.methods.close(a).send(o).on("transactionHash",function(e){"function"==typeof t&&t(e)}).on("error",function(e){s(e)});case 4:l=e.sent,r(l),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s(e.t0);case 11:case"end":return e.stop()}},e,n,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}())},t}(v.SwapInterface);t.default=w},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(40),u=a(r),s=n(41),o=a(s),l=n(33),i=a(l),c=n(1),d=a(c),f=n(3),p=a(f),h=n(4),m=a(h),v=n(18),y=a(v),w=function(){return Math.floor(Date.now()/1e3)},b=function(){return w()+10800},g=function(t){function n(e){(0,d.default)(this,n);var a=(0,p.default)(this,t.call(this));if("function"!=typeof e.fetchBalance)throw new Error('EthSwap: "fetchBalance" required');if("function"!=typeof e.fetchUnspents)throw new Error('EthSwap: "fetchUnspents" required');if("function"!=typeof e.broadcastTx)throw new Error('EthSwap: "broadcastTx" required');return a._swapName="btcSwap",a.fetchBalance=e.fetchBalance,a.fetchUnspents=e.fetchUnspents,a.broadcastTx=e.broadcastTx,a}return(0,m.default)(n,t),n.prototype._initSwap=function(){this.network=y.default.isMainNet()?y.default.env.bitcoin.networks.bitcoin:y.default.env.bitcoin.networks.testnet},n.prototype._getScriptAddress=function(e){var t=y.default.env.bitcoin.script.scriptHash.output.encode(y.default.env.bitcoin.crypto.hash160(e));return y.default.env.bitcoin.address.fromOutputScript(t,this.network)},n.prototype._signTransaction=function(t){var n=t.script,a=t.txRaw,r=t.secret,u=y.default.env.bitcoin.Transaction.SIGHASH_ALL,s=a.hashForSignature(0,n,u),o=y.default.services.auth.accounts.btc.sign(s).toScriptSignature(u),l=y.default.env.bitcoin.script.scriptHash.input.encode([o,y.default.services.auth.accounts.btc.getPublicKeyBuffer(),e.from(r.replace(/^0x/,""),"hex")],n);a.setInputScript(0,l)},n.prototype.createScript=function(t){var n=t.secretHash,a=t.btcOwnerPublicKey,r=t.ethOwnerPublicKey,u=t.lockTime,s=u||b(),o=y.default.env.bitcoin.script.compile([y.default.env.bitcoin.opcodes.OP_RIPEMD160,e.from(n,"hex"),y.default.env.bitcoin.opcodes.OP_EQUALVERIFY,e.from(r,"hex"),y.default.env.bitcoin.opcodes.OP_EQUAL,y.default.env.bitcoin.opcodes.OP_IF,e.from(r,"hex"),y.default.env.bitcoin.opcodes.OP_CHECKSIG,y.default.env.bitcoin.opcodes.OP_ELSE,y.default.env.bitcoin.script.number.encode(s),y.default.env.bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY,y.default.env.bitcoin.opcodes.OP_DROP,e.from(a,"hex"),y.default.env.bitcoin.opcodes.OP_CHECKSIG,y.default.env.bitcoin.opcodes.OP_ENDIF]),l=y.default.env.bitcoin.script.scriptHash.output.encode(y.default.env.bitcoin.crypto.hash160(o));return{address:y.default.env.bitcoin.address.fromOutputScript(l,this.network),script:o,secretHash:n,btcOwnerPublicKey:a,ethOwnerPublicKey:r,lockTime:u}},n.prototype.fundScript=function(e){var t=this,n=e.script,a=e.amount;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(r,s){var o,l,i,c,d,f,p,h,m;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t._getScriptAddress(n),l=new y.default.env.bitcoin.TransactionBuilder(t.network),e.next=5,t.fetchUnspents(y.default.services.auth.accounts.btc.getAddress());case 5:return i=e.sent,c=Math.floor(1e8*Number(a)),d=15e3,f=i.reduce(function(e,t){return e+t.satoshis},0),p=f-c-d,i.forEach(function(e){var t=e.txid,n=e.vout;return l.addInput(t,n)}),l.addOutput(o,c),l.addOutput(y.default.services.auth.accounts.btc.getAddress(),p),l.inputs.forEach(function(e,t){l.sign(t,y.default.services.auth.accounts.btc)}),h=l.buildIncomplete(),m=void 0,e.prev=16,e.next=19,t.broadcastTx(h.toHex());case 19:m=e.sent,e.next=25;break;case 22:e.prev=22,e.t0=e.catch(16),s(e.t0);case 25:r(m),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(0),s(e.t1);case 31:case"end":return e.stop()}},e,t,[[0,28],[16,22]])}));return function(t,n){return e.apply(this,arguments)}}())},n.prototype.withdraw=function(e,t){var n=this,a=e.script,r=e.secret;return console.log("withdraw"),console.log("script",a),console.log("secret",r),new i.default(function(){var e=(0,o.default)(u.default.mark(function e(s,o){var l,i,c,d,f,p,h;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=n._getScriptAddress(a),i=new y.default.env.bitcoin.TransactionBuilder(n.network),e.next=5,n.fetchUnspents(y.default.services.auth.accounts.btc.getAddress());case 5:return c=e.sent,console.log("scriptAddress",l),console.log("tx",i),console.log("unspents",c),d=15e3,f=c.reduce(function(e,t){return e+t.satoshis},0),console.log("feeValue",d),console.log("totalUnspent",f),c.forEach(function(e){var t=e.txid,n=e.vout;return i.addInput(t,n,4294967294)}),i.addOutput(y.default.services.auth.accounts.btc.getAddress(),f-d),p=i.buildIncomplete(),console.log("txRaw",p),n._signTransaction({script:a,secret:r,txRaw:p}),"function"==typeof t&&t(p.getId()),e.next=21,n.broadcastTx(p.toHex());case 21:h=e.sent,s(h),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),o(e.t0);case 28:case"end":return e.stop()}},e,n,[[0,25]])}));return function(t,n){return e.apply(this,arguments)}}())},n.prototype.refund=function(e,t){var n=this,a=e.script,r=e.lockTime,s=e.secret;return new i.default(function(){var e=(0,o.default)(u.default.mark(function e(o,l){var i,c,d,f,p,h,m;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=n._getScriptAddress(a),c=new y.default.env.bitcoin.TransactionBuilder(n.network),e.next=5,n.fetchUnspents(y.default.services.auth.accounts.btc.getAddress());case 5:return d=e.sent,f=15e3,p=d.reduce(function(e,t){return e+t.satoshis},0),c.setLockTime(r),d.forEach(function(e){var t=e.txid,n=e.vout;return c.addInput(t,n,4294967294)}),c.addOutput(y.default.services.auth.accounts.btc.getAddress(),p-f),h=c.buildIncomplete(),n._signTransaction({script:a,secret:s,txRaw:h}),"function"==typeof t&&t(h.getId()),e.next=16,n.broadcastTx(h.toHex());case 16:m=e.sent,o(m),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),l(e.t0);case 23:case"end":return e.stop()}},e,n,[[0,20]])}));return function(t,n){return e.apply(this,arguments)}}())},n}(v.SwapInterface);t.default=g}).call(t,n(6).Buffer)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(13),m=a(h),v=n(7),y=a(v),w=n(92),b=n(14),g=n(55),_=n(337),E=a(_),S=n(885),M=a(S),C=n(887),k=a(C),x=(u=r=function(e){function t(){var n,a,r;(0,o.default)(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=a=(0,i.default)(this,e.call.apply(e,[this].concat(s))),a.removeOrder=function(e){w.swapApp.services.orders.remove(e),m.default.feed.deleteItemToFeed(e),a.props.update()},a.sendRequest=function(e){var t=w.swapApp.services.orders.getByKey(e);t.sendRequest(function(e){console.log("user "+t.owner.peer+" "+(e?"accepted":"declined")+" your request")}),a.props.update()},r=n,(0,i.default)(a,r)}return(0,d.default)(t,e),t.prototype.render=function(){var e=this,t=this.props.row;if(void 0===t)return null;var n=t.id,a=t.buyCurrency,r=t.sellCurrency,u=t.buyAmount,s=t.sellAmount,o=t.isRequested,l=t.owner,i=l.peer,c=l.reputation,d=w.swapApp.services.room.peer;return p.default.createElement("tr",null,p.default.createElement("td",null,p.default.createElement(E.default,{names:[a,r]})),p.default.createElement("td",null,a.toUpperCase()+" "+u),p.default.createElement("td",null,r.toUpperCase()+" "+s),p.default.createElement("td",null,c),p.default.createElement("td",null,d===i?p.default.createElement(k.default,{removeOrder:function(){return e.removeOrder(n)}}):p.default.createElement(f.Fragment,null,o?p.default.createElement(f.Fragment,null,p.default.createElement("div",{style:{color:"red"}},"REQUESTING"),p.default.createElement(g.Link,{to:b.links.swap+"/"+n}," Go to the swap")):p.default.createElement(g.Link,{to:b.links.swap+"/"+n},p.default.createElement(M.default,{sendRequest:function(){return e.sendRequest(n)}})))))},t}(f.Component),r.propTypes={row:y.default.object},u);t.default=x},function(e,t){e.exports={coins:"XQaT-I"}},function(e,t){e.exports={coin:"_1WqrJr",icon:"_3DbGHI",letter:"_213Lpu"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(2),m=a(h),v=n(886),y=a(v),w=(r=(0,m.default)(y.default,{allowMultiple:!0}))(u=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=this.props.sendRequest;return p.default.createElement("div",{styleName:"button",onClick:e})},t}(f.Component))||u;t.default=w},function(e,t){e.exports={button:"_2Uhw5O"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(2),m=a(h),v=n(888),y=a(v),w=(r=(0,m.default)(y.default,{allowMultiple:!0}))(u=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=this.props.removeOrder;return p.default.createElement("div",{styleName:"button",onClick:e})},t}(f.Component))||u;t.default=w},function(e,t){e.exports={button:"_3iqxx8"}},function(e,t){e.exports={table:"A6cIbx"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(46),o=a(s),l=n(1),i=a(l),c=n(3),d=a(c),f=n(4),p=a(f),h=n(0),m=a(h),v=n(27),y=n(14),w=n(13),b=a(w),g=n(88),_=a(g),E=n(193),S=a(E),M=n(891),C=a(M),k=(r=(0,v.connect)(function(e){var t=e.user,n=t.ethData,a=t.btcData,r=t.tokenData;t.nimData;return{items:[n,a,r],ethAddress:n.address,btcAddress:a.address}}))(u=function(e){function t(){return(0,i.default)(this,t),(0,d.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.componentWillMount=function(){b.default.user.getBalances(),console.log(b.default.user.getBalances()),b.default.analytics.dataEvent("open-page-balances"),localStorage.getItem(y.constants.localStorage.privateKeysSaved)||b.default.modals.open(y.constants.modals.PrivateKeys)},t.prototype.render=function(){var e=this.props,t=e.items,n=e.ethAddress,a=e.btcAddress,r=["Coin","Name","Balance","Address",""],u={ethAddress:n,btcAddress:a};return m.default.createElement("section",null,m.default.createElement(_.default,{subTitle:"Balances"}),m.default.createElement(S.default,{titles:r,rows:t,rowRender:function(e,t){return m.default.createElement(C.default,(0,o.default)({key:t,addresses:u},e))}}))},t}(h.Component))||u;t.default=k},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(13),m=a(h),v=n(2),y=a(v),w=n(892),b=a(w),g=n(192),_=a(g),E=n(893),S=a(E),M=n(895),C=a(M),k=n(899),x=a(k),T=(r=(0,y.default)(b.default))(u=function(e){function t(){var n,a,r;(0,o.default)(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=a=(0,i.default)(this,e.call.apply(e,[this].concat(s))),a.state={isBalanceFetching:!1},a.handleReloadBalance=function(){if(!a.state.isBalanceFetching){var e=a.props.currency,t=void 0;e=e.toLowerCase(),"eth"===e?(t=m.default.ethereum.getBalance,m.default.analytics.dataEvent("balances-update-eth")):"btc"===e?(t=m.default.bitcoin.getBalance,m.default.analytics.dataEvent("balances-update-btc")):"noxon"===e&&(t=m.default.token.getBalance,m.default.analytics.dataEvent("balances-update-noxon")),a.setState({isBalanceFetching:!0}),t().then(function(){a.setState({isBalanceFetching:!1})},function(){a.setState({isBalanceFetching:!1})})}},r=n,(0,i.default)(a,r)}return(0,d.default)(t,e),t.prototype.render=function(){var e=this.state.isBalanceFetching,t=this.props,n=t.currency,a=t.balance,r=t.address;return p.default.createElement("tr",null,p.default.createElement("td",null,p.default.createElement(_.default,{name:n,size:40})),p.default.createElement("td",null,n.toUpperCase()),p.default.createElement("td",{style:{minWidth:"80px"}},e?p.default.createElement(x.default,null):a),p.default.createElement("td",null,r),p.default.createElement("td",null,p.default.createElement(C.default,{styleName:"reloadButton",onClick:this.handleReloadBalance}),p.default.createElement(S.default,{data:{currency:n,balance:a,address:r}})))},t}(f.Component))||u;t.default=T},function(e,t){e.exports={reloadButton:"_2ZNYIs"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(13),o=a(s),l=n(14),i=n(2),c=a(i),d=n(894),f=a(d),p=function(e){var t=e.data;return u.default.createElement("div",{styleName:"withdrawButton",onClick:function(){o.default.analytics.dataEvent("balances-withdraw-"+t.currency.toLowerCase()),o.default.modals.open(l.constants.modals.Withdraw,t)}},"Withdraw")};t.default=(0,c.default)(p,f.default)},function(e,t){e.exports={withdrawButton:"_2XoYtt"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(896),i=a(l),c=n(897),d=a(c),f=function(e){var t=e.className,n=e.onClick;return u.default.createElement("div",{styleName:"reloadButton",className:t,onClick:n},u.default.createElement(d.default,{styleName:"icon"}))};t.default=(0,o.default)(f,i.default)},function(e,t){e.exports={reloadButton:"EJezYM",icon:"-QzL6n"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(898),o=a(s),l=function(e){var t=e.className;return u.default.createElement("img",{className:t,src:o.default,alt:"reload icon"})};t.default=l},function(e,t){e.exports="https://testnet.swap.online/images/reload_8f44d7.svg"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(900),i=a(l),c=function(){return u.default.createElement("div",{styleName:"ellipsis"},u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null))};t.default=(0,o.default)(c,i.default)},function(e,t){e.exports={ellipsis:"_1LrCrR",ellipsis1:"_3E5_Fc",ellipsis2:"_2eaqSt",ellipsis3:"_3fsiCh"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(46),o=a(s),l=n(1),i=a(l),c=n(3),d=a(c),f=n(4),p=a(f),h=n(0),m=a(h),v=n(27),y=n(13),w=a(y),b=n(88),g=a(b),_=n(193),E=a(_),S=n(902),M=a(S),C=n(904),k=a(C),x=function(e,t){return"SENT"===t?e.filter(function(e){return"out"===e.direction}):"RECEIVED"===t?e.filter(function(e){return"in"===e.direction}):e},T=(r=(0,v.connect)(function(e){var t=e.user,n=t.ethData,a=t.btcData,r=(t.tokenData,e.history),u=r.transactions,s=r.filter;return{items:x(u,s),ethAddress:n.address,btcAddress:a.address}}))(u=function(e){function t(){return(0,i.default)(this,t),(0,d.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.ethAddress,n=e.btcAddress;w.default.analytics.dataEvent("open-page-history"),w.default.user.setTransactions(t,n)},t.prototype.render=function(){var e=this.props.items,t=["Coin","Status","Amount"];return m.default.createElement("section",null,m.default.createElement(g.default,{subTitle:"History"}),m.default.createElement(M.default,null),m.default.createElement(E.default,{titles:t,rows:e,rowRender:function(e,t){return m.default.createElement(k.default,(0,o.default)({key:t},e))}}))},t}(h.Component))||u;t.default=T},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o=n(1),l=a(o),i=n(3),c=a(i),d=n(4),f=a(d),p=n(0),h=a(p),m=n(7),v=a(m),y=n(13),w=a(y),b=n(27),g=n(2),_=a(g),E=n(338),S=a(E),M=n(903),C=a(M),k=(r=(0,b.connect)({activeFilter:"history.filter"}),u=(0,_.default)(S.default),r(s=u(s=function(e){function t(){return(0,l.default)(this,t),(0,c.default)(this,e.apply(this,arguments))}return(0,f.default)(t,e),t.prototype.render=function(){var e=this.props.activeFilter;return h.default.createElement("div",{styleName:"history-filter"},h.default.createElement(C.default,{name:"All",onClick:function(){w.default.filter.setFilter("ALL"),w.default.analytics.dataEvent("history-click-all")},active:"ALL"===e}),h.default.createElement(C.default,{name:"Sent",onClick:function(){w.default.filter.setFilter("SENT"),w.default.analytics.dataEvent("history-click-sent")},active:"SENT"===e}),h.default.createElement(C.default,{name:"Received",onClick:function(){w.default.filter.setFilter("RECEIVED"),w.default.analytics.dataEvent("history-click-received")},active:"RECEIVED"===e}))},t}(p.Component))||s)||s);t.default=k,k.propTypes={activeFilter:v.default.string}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){e.preventDefault(),r()}var n=e.name,a=e.active,r=e.onClick;return s.default.createElement("a",{href:"",styleName:a?"history-filter__item  history-filter__item_active":"history-filter__item",onClick:t},n)}t.__esModule=!0;var u=n(0),s=a(u),o=n(7),l=a(o),i=n(2),c=a(i),d=n(338),f=a(d);r.propTypes={name:l.default.string.isRequired,active:l.default.bool.isRequired},t.default=(0,c.default)(r,f.default,{allowMultiple:!0})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(34),o=a(s),l=n(68),i=a(l),c=n(2),d=a(c),f=n(906),p=a(f),h=n(192),m=a(h),v=function(e){var t=e.type,n=e.date,a=e.direction,r=e.address,s=e.value,l=(0,o.default)("status",{in:"in"===a,out:"in"!==a});return u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement(m.default,{name:t,size:40})),u.default.createElement("td",null,u.default.createElement("div",{styleName:l},"in"===a?"Received":"Sent"),u.default.createElement("div",{styleName:"date"},(0,i.default)(n).format("MM/DD/YYYY hh:mm A")),u.default.createElement("div",{styleName:"address"},r)),u.default.createElement("td",null,u.default.createElement("div",{styleName:"amount"},s)))};t.default=(0,d.default)(v,p.default,{allowMultiple:!0})},,function(e,t){e.exports={status:"_3kv9MC",in:"_2lbJ5g",out:"_1wgwnd",date:"_2-d0NO",address:"_2jfUW_",amount:"hcV54S"}},function(e,t,n){"use strict";function a(){return u.default.createElement("div",{className:"container"},u.default.createElement("h2",{className:"description__sub-title"},"Page not found!"))}t.__esModule=!0,t.default=a;var r=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(88),o=a(s),l=n(128),i=a(l),c=n(909),d=a(c),f=function(e){var t=e.match.params.orderId;return u.default.createElement("section",null,u.default.createElement(o.default,null,u.default.createElement(i.default,null,"My swaps",u.default.createElement("br",null))),u.default.createElement(d.default,{orderId:t}))};t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r=n(1),u=a(r),s=n(3),o=a(s),l=n(4),i=a(l),c=n(0),d=a(c),f=n(18),p=a(f),h=n(910),m=a(h),v=n(918),y=a(v),w=n(919),b=a(w),g=n(920),_=a(g),E={btceth:m.default,ethbtc:y.default,noxonbtc:b.default,btcnoxon:_.default},S=function(e){function t(){return(0,u.default)(this,t),(0,o.default)(this,e.apply(this,arguments))}return(0,i.default)(t,e),t.prototype.render=function(){var e=this.props.orderId;if(!e)return null;var t=p.default.services.orders.getByKey(e),n=t.isMy,a=t.buyCurrency,r=t.sellCurrency,u=n?r:a,s=n?a:r,o=E[""+u.toLowerCase()+s.toLowerCase()];return console.log("first",u),console.log("last",s),d.default.createElement("div",{style:{paddingLeft:"30px"}},d.default.createElement(o,{orderId:e}))},t}(c.PureComponent);t.default=S},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r=n(1),u=a(r),s=n(3),o=a(s),l=n(4),i=a(l),c=n(0),d=a(c),f=n(130),p=n(53),h=a(p),m=n(72),v=a(m),y=function(e){function t(n){var a=n.orderId;(0,u.default)(this,t);var r=(0,o.default)(this,e.call(this));return r.handleFlowStateUpdate=function(e){r.setState({flow:e})},r.submitSecret=function(){var e=r.state.secret;r.swap.flow.submitSecret(e)},r.updateBalance=function(){r.swap.flow.syncBalance()},r.swap=new h.default(a,f.BTC2ETH),r.state={flow:r.swap.flow.state,secret:"c0809ce9f484fdcdfb2d5aabd609768ce0374ee97a1a5618ce4cd3f16c00a078"},r}return(0,i.default)(t,e),t.prototype.componentWillMount=function(){this.swap.on("state update",this.handleFlowStateUpdate)},t.prototype.componentWillUnmount=function(){this.swap.off("state update",this.handleFlowStateUpdate)},t.prototype.render=function(){var e=this.state,t=e.secret,n=e.flow;return d.default.createElement("div",null,this.swap.id&&d.default.createElement("strong",null,this.swap.sellAmount," ",this.swap.sellCurrency," ⟶ ",this.swap.buyAmount," ",this.swap.buyCurrency),!this.swap.id&&(this.swap.isMy?d.default.createElement("h3",null,"This order doesn't have a buyer"):d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"The order creator is offline. Waiting for him.."),d.default.createElement(v.default,{overlay:!1}))),n.isWaitingForOwner&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"Waiting for other user when he connect to the order"),d.default.createElement(v.default,null)),(1===n.step||n.isMeSigned)&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"1. Waiting participant confirm this swap"),d.default.createElement(v.default,{overlay:!1})),n.isParticipantSigned&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"2. Create a secret key"),n.secretHash?d.default.createElement(c.Fragment,null,d.default.createElement("div",null,"Save the secret key! Otherwise there will be a chance you loose your money!"),d.default.createElement("div",null,"Secret Key: ",d.default.createElement("strong",null,n.secret)),d.default.createElement("div",null,"Secret Hash: ",d.default.createElement("strong",null,n.secretHash))):d.default.createElement(c.Fragment,null,d.default.createElement("input",{type:"text",placeholder:"Secret Key",defaultValue:t}),d.default.createElement("br",null),d.default.createElement("button",{onClick:this.submitSecret},"Confirm")),3===n.step&&!n.isBalanceEnough&&!n.isBalanceFetching&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"Not enough money for this swap. Please charge the balance"),d.default.createElement("div",null,d.default.createElement("div",null,"Your balance: ",d.default.createElement("strong",null,n.balance)," ",this.swap.sellCurrency),d.default.createElement("div",null,"Required balance: ",d.default.createElement("strong",null,this.swap.sellAmount)," ",this.swap.sellCurrency),d.default.createElement("hr",null),d.default.createElement("span",null,n.address)),d.default.createElement("br",null),d.default.createElement("button",{type:"button",onClick:this.updateBalance},"Continue")),3===n.step&&n.isBalanceFetching&&d.default.createElement(c.Fragment,null,d.default.createElement("div",null,"Checking balance.."),d.default.createElement(v.default,{overlay:!1})),(4===n.step||n.btcScriptValues)&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"3. Creating Bitcoin Script. Please wait, it will take a while"),!n.btcScriptValues&&d.default.createElement(v.default,{overlay:!1})),(5===n.step||n.isEthContractFunded)&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"4. ETH Owner received Bitcoin Script and Secret Hash. Waiting when he creates ETH Contract"),!n.isEthContractFunded&&d.default.createElement(v.default,{overlay:!1})),(6===n.step||n.isEthWithdrawn)&&d.default.createElement("h3",null,"5. ETH Contract created and charged. Requesting withdrawal from ETH Contract. Please wait"),n.ethSwapWithdrawTransactionUrl&&d.default.createElement("div",null,"Transaction:",d.default.createElement("strong",null,d.default.createElement("a",{href:n.ethSwapWithdrawTransactionUrl,target:"_blank"},n.ethSwapWithdrawTransactionUrl))),6===n.step&&d.default.createElement(v.default,{overlay:!1}),n.isEthWithdrawn&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"6. Money was transferred to your wallet. Check the balance."),d.default.createElement("h2",null,"Thank you for using Swap.Online!"))))},t}(c.Component);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(40),u=a(r),s=n(41),o=a(s),l=n(1),i=a(l),c=n(3),d=a(c),f=n(4),p=a(f),h=n(18),m=a(h),v=n(53),y=function(e){function t(n){(0,i.default)(this,t);var a=(0,d.default)(this,e.call(this,n));if(a.ethSwap=m.default.swaps.ethSwap,a.btcSwap=m.default.swaps.btcSwap,!a.ethSwap)throw new Error('BTC2ETH: "ethSwap" of type object required');if(!a.btcSwap)throw new Error('BTC2ETH: "btcSwap" of type object required');return a.state={step:0,signTransactionUrl:null,isSignFetching:!1,isMeSigned:!1,secretHash:null,btcScriptValues:null,btcScriptVerified:!1,isBalanceFetching:!1,isBalanceEnough:!1,balance:null,ethSwapCreationTransactionUrl:null,isEthContractFunded:!1,isEthWithdrawn:!1,isBtcWithdrawn:!1},e.prototype._persistSteps.call(a),a._persistState(),a}return(0,p.default)(t,e),t.prototype._getSteps=function(){var e=this,t=this;return[function(){},function(){t.swap.room.once("create btc script",function(e){var n=e.scriptValues;t.finishStep({secretHash:n.secretHash,btcScriptValues:n})})},function(){},function(){e.syncBalance()},(0,o.default)(u.default.mark(function n(){var a,r,s,o;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.swap,r=a.participant,s=a.sellAmount,o={participantAddress:r.eth.address,secretHash:t.state.secretHash,amount:s},n.next=4,e.ethSwap.create(o,function(e){t.setState({ethSwapCreationTransactionUrl:e})});case 4:t.swap.room.sendMessage("create eth contract",{ethSwapCreationTransactionUrl:t.state.ethSwapCreationTransactionUrl}),t.finishStep({isEthContractFunded:!0});case 6:case"end":return n.stop()}},n,e)})),function(){t.swap.room.once("finish eth withdraw",function(){t.finishStep({isEthWithdrawn:!0})})},(0,o.default)(u.default.mark(function n(){var a,r,s,o,l;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.swap.participant,r={participantAddress:a.eth.address},e.next=4,t.ethSwap.getSecret(r);case 4:return s=e.sent,e.next=7,t.ethSwap.close(r);case 7:return o=t.btcSwap.createScript(t.state.btcScriptValues),l=o.script,e.next=10,t.btcSwap.withdraw({script:l,secret:s},function(e){t.setState({btcSwapWithdrawTransactionUrl:e})});case 10:t.finishStep({isBtcWithdrawn:!0});case 11:case"end":return e.stop()}},n,e)})),function(){}]},t.prototype.sign=function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(u.default.mark(function e(){var t,n=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.swap.participant,this.setState({isSignFetching:!0}),e.next=4,this.ethSwap.sign({participantAddress:t.eth.address},function(e){n.setState({signTransactionUrl:e})});case 4:this.swap.room.sendMessage("swap sign"),this.finishStep({isMeSigned:!0});case 6:case"end":return e.stop()}},e,this)}));return e}(),t.prototype.verifyBtcScript=function(){this.finishStep({btcScriptVerified:!0})},t.prototype.syncBalance=function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(u.default.mark(function e(){var t,n,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.swap.sellAmount,this.setState({isBalanceFetching:!0}),e.next=4,this.ethSwap.fetchBalance(m.default.services.auth.accounts.eth.address);case 4:n=e.sent,a=t<=n,a?this.finishStep({balance:n,isBalanceFetching:!1,isBalanceEnough:!0}):this.setState({balance:n,isBalanceFetching:!1,isBalanceEnough:!1});case 7:case"end":return e.stop()}},e,this)}));return e}(),t}(v.Flow);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(17),u=a(r),s=n(9),o=a(s),l=n(21),i=a(l),c=n(1),d=a(c),f=n(18),p=a(f),h=n(343),m=a(h),v=function(){function e(t,n){(0,d.default)(this,e),this.events=new f.Events,this.room=null,this.id=t,this.isMy=null,this.owner=null,this.participant=null,this.buyCurrency=null,this.sellCurrency=null,this.buyAmount=null,this.sellAmount=null,this._persistState(),this.flow=new n(this)}return e.prototype._persistState=function(){var e=p.default.env.storage.getItem("swap."+this.id)||p.default.services.orders.getByKey(this.id);if(e){var t=f.util.pullProps(e,"isMy","owner","participant","buyCurrency","sellCurrency","buyAmount","sellAmount"),n=t.isMy,a=t.buyAmount,r=t.sellAmount,u=t.buyCurrency,s=t.sellCurrency,l=(0,i.default)(t,["isMy","buyAmount","sellAmount","buyCurrency","sellCurrency"]),c=(0,o.default)({},l,{isMy:n,buyAmount:n?a:r,sellAmount:n?r:a,sellCurrency:n?s:u,buyCurrency:n?u:s});c.participant||n||(c.participant=c.owner),this.room=new m.default({participantPeer:c.participant.peer}),this.update(c),this._saveState()}},e.prototype._saveState=function(){var e=f.util.pullProps(this,"id","isMy","owner","participant","buyCurrency","sellCurrency","buyAmount","sellAmount");console.log("New Swap state:",e),p.default.env.storage.setItem("swap."+this.id,e)},e.prototype.update=function(e){var t=this;(0,u.default)(e).forEach(function(n){t[n]=e[n]}),this._saveState()},e.prototype.on=function(e,t){this.events.subscribe(e,t)},e.prototype.off=function(e,t){this.events.unsubscribe(e,t)},e}();t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(40),u=a(r),s=n(41),o=a(s),l=n(9),i=a(l),c=n(1),d=a(c),f=n(18),p=a(f),h=n(343),m=a(h),v=function(){function e(t){(0,d.default)(this,e),this.swap=t,this.steps=[],this.state={step:0,isWaitingForOwner:!1}}return e.prototype._persistState=function(){var e=this,t=p.default.env.storage.getItem("flow."+this.swap.id);t&&(this.state=(0,i.default)({},this.state,t)),this.swap.room.subscribe("persist state",function(t){e.setState(t,!0)})},e.prototype._persistSteps=function(){var e=this;this.steps=[].concat(this._getInitialSteps(),this._getSteps()),setTimeout(function(){console.log("GO INITIAL STEP",e.state.step),e.goStep(e.state.step)},0)},e.prototype._getInitialSteps=function(){var e=this,t=this;return[(0,o.default)(u.default.mark(function n(){var a,r,s;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=e.swap,r=a.id,s=a.owner,s?t.finishStep():(t.setState({isWaitingForOwner:!0}),p.default.services.room.subscribe("new orders",function(e){var n=e.orders;if(n.find(function(e){return e.id===r})){this.unsubscribe();var a=n.getByKey(r);t.swap.room=new m.default({participantPeer:a.owner.peer}),t.swap.update((0,i.default)({},a,{participant:a.owner})),t.finishStep({isWaitingForOwner:!1})}}));case 2:case"end":return n.stop()}},n,e)}))]},e.prototype._getSteps=function(){return[]},e.prototype._saveState=function(){p.default.env.storage.setItem("flow."+this.swap.id,this.state)},e.prototype.finishStep=function(e){this.goNextStep(e)},e.prototype.goNextStep=function(e){var t=this.state.step,n=t+1;this.swap.events.dispatch("leave step",t),this.setState((0,i.default)({step:n},e||{}),!0),this.goStep(n)},e.prototype.goStep=function(e){this.swap.events.dispatch("enter step",e),this.steps[e]()},e.prototype.setState=function(e,t){this.state=(0,i.default)({},this.state,e),t&&this._saveState(),this.swap.events.dispatch("state update",this.state,e)},e}();t.default=v},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(40),u=a(r),s=n(21),o=a(s),l=n(41),i=a(l),c=n(1),d=a(c),f=n(3),p=a(f),h=n(4),m=a(h),v=n(47),y=a(v),w=n(18),b=a(w),g=n(53),_=function(t){function n(e){(0,d.default)(this,n);var a=(0,p.default)(this,t.call(this,e));if(a.ethSwap=b.default.swaps.ethSwap,a.btcSwap=b.default.swaps.btcSwap,!a.ethSwap)throw new Error('BTC2ETH: "ethSwap" of type object required');if(!a.btcSwap)throw new Error('BTC2ETH: "btcSwap" of type object required');return a.state={step:0,signTransactionUrl:null,isSignFetching:!1,isParticipantSigned:!1,secretHash:null,btcScriptValues:null,btcScriptVerified:!1,isBalanceFetching:!1,isBalanceEnough:!1,balance:null,ethSwapCreationTransactionUrl:null,isEthContractFunded:!1,isEthWithdrawn:!1,isBtcWithdrawn:!1},t.prototype._persistSteps.call(a),a._persistState(),a}return(0,m.default)(n,t),n.prototype._persistState=function(){t.prototype._persistState.call(this)},n.prototype._getSteps=function(){var e=this,t=this;return[function(){t.swap.room.once("swap sign",function(){t.finishStep({isParticipantSigned:!0})})},function(){},function(){e.syncBalance()},(0,i.default)(u.default.mark(function n(){var a,r,s,l,i,c;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.swap,r=a.sellAmount,s=a.participant,l=t.btcSwap.createScript({secretHash:t.state.secretHash,btcOwnerPublicKey:b.default.services.auth.accounts.btc.getPublicKey(),ethOwnerPublicKey:s.btc.publicKey}),i=l.script,c=(0,o.default)(l,["script"]),n.next=4,t.btcSwap.fundScript({script:i,amount:r});case 4:e.swap.room.sendMessage("create btc script",{scriptValues:c}),t.finishStep({isBtcScriptFunded:!0,btcScriptValues:c});case 6:case"end":return n.stop()}},n,e)})),function(){t.swap.room.once("create eth contract",function(e){var n=e.ethSwapCreationTransactionUrl;t.finishStep({isEthContractFunded:!0,ethSwapCreationTransactionUrl:n})})},(0,i.default)(u.default.mark(function n(){var a,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.swap.participant,r={ownerAddress:a.eth.address,secret:t.state.secret},e.next=4,t.ethSwap.withdraw(r,function(e){t.setState({ethSwapWithdrawTransactionUrl:e})});case 4:t.swap.room.sendMessage("finish eth withdraw"),t.finishStep({isEthWithdrawn:!0});case 6:case"end":return e.stop()}},n,e)})),function(){}]},n.prototype.submitSecret=function(t){var n=y.default.ripemd160(e.from(t,"hex")).toString("hex");this.finishStep({secret:t,secretHash:n})},n.prototype.syncBalance=function(){function e(){return t.apply(this,arguments)}var t=(0,i.default)(u.default.mark(function e(){var t,n,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.swap.sellAmount,this.setState({isBalanceFetching:!0}),e.next=4,this.btcSwap.fetchBalance(b.default.services.auth.accounts.btc.getAddress());case 4:n=e.sent,a=t<=n,a?this.finishStep({balance:n,isBalanceFetching:!1,isBalanceEnough:!0}):this.setState({balance:n,isBalanceFetching:!1,isBalanceEnough:!1});case 7:case"end":return e.stop()}},e,this)}));return e}(),n}(g.Flow);t.default=_}).call(t,n(6).Buffer)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(40),u=a(r),s=n(41),o=a(s),l=n(1),i=a(l),c=n(3),d=a(c),f=n(4),p=a(f),h=n(18),m=a(h),v=n(53),y=function(e){function t(n){(0,i.default)(this,t);var a=(0,d.default)(this,e.call(this,n));if(a.ethTokenSwap=m.default.swaps.ethTokenSwap,a.btcSwap=m.default.swaps.btcSwap,!a.ethTokenSwap)throw new Error('ETHTOKEN2BTC: "ethTokenSwap" of type object required');if(!a.btcSwap)throw new Error('ETHTOKEN2BTC: "btcSwap" of type object required');return a.state={step:0,signTransactionUrl:null,isSignFetching:!1,isMeSigned:!1,secretHash:null,btcScriptValues:null,btcScriptVerified:!1,isBalanceFetching:!1,isBalanceEnough:!1,balance:null,ethSwapCreationTransactionUrl:null,isEthContractFunded:!1,isEthWithdrawn:!1,isBtcWithdrawn:!1},e.prototype._persistSteps.call(a),a._persistState(),a}return(0,p.default)(t,e),t.prototype._persistState=function(){e.prototype._persistState.call(this)},t.prototype._getSteps=function(){var e=this,t=this;return[function(){},function(){e.swap.room.once("create btc script",function(e){var n=e.scriptValues;t.finishStep({secretHash:n.secretHash,btcScriptValues:n})})},function(){},function(){e.syncBalance()},(0,o.default)(u.default.mark(function n(){var a,r,s,o;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.swap,r=a.participant,s=a.sellAmount,o={participantAddress:r.eth.address,secretHash:t.state.secretHash,amount:s},n.next=4,e.ethSwap.approve({amount:s});case 4:return n.next=6,e.ethSwap.create(o,function(t){e.setState({ethSwapCreationTransactionUrl:t})});case 6:e.swap.room.sendMessage("create eth contract"),e.finishStep({isEthContractFunded:!0});case 8:case"end":return n.stop()}},n,e)})),function(){e.swap.room.once("finish eth withdraw",function(){t.finishStep({isEthWithdrawn:!0})})},(0,o.default)(u.default.mark(function n(){var a,r,s,o,l;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.swap.participant,r={participantAddress:a.eth.address},n.next=4,e.ethSwap.getSecret(r);case 4:return s=n.sent,n.next=7,e.ethSwap.close(r);case 7:return o=t.btcSwap.createScript(t.state.btcScriptValues),l=o.script,n.next=10,t.btcSwap.withdraw({btcData:m.default.services.auth.accounts.btcData,script:l,secret:s},function(e){t.setState({btcSwapWithdrawTransactionUrl:e})});case 10:t.finishStep({isBtcWithdrawn:!0});case 11:case"end":return n.stop()}},n,e)})),function(){}]},t.prototype.sign=function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(u.default.mark(function e(){var t,n=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.swap.participant,this.setState({isSignFetching:!0}),e.next=4,this.ethSwap.sign({participantAddress:t.eth.address},function(e){n.setState({signTransactionUrl:e})});case 4:this.swap.room.sendMessage("swap sign"),this.finishStep({isMeSigned:!0});case 6:case"end":return e.stop()}},e,this)}));return e}(),t.prototype.verifyBtcScript=function(){this.finishStep({btcScriptVerified:!0})},t.prototype.syncBalance=function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(u.default.mark(function e(){var t,n,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.swap.sellAmount,this.setState({isBalanceFetching:!0}),e.next=4,this.ethTokenSwap.fetchBalance(m.default.services.auth.accounts.eth.address);case 4:n=e.sent,a=t<=n,a?this.finishStep({balance:n,isBalanceFetching:!1,isBalanceEnough:!0}):this.setState({balance:n,isBalanceFetching:!1,isBalanceEnough:!1});case 7:case"end":return e.stop()}},e,this)}));return e}(),t}(v.Flow);t.default=y},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(40),u=a(r),s=n(21),o=a(s),l=n(41),i=a(l),c=n(1),d=a(c),f=n(3),p=a(f),h=n(4),m=a(h),v=n(47),y=a(v),w=n(53),b=n(18),g=a(b),_=function(t){function n(e){(0,d.default)(this,n);var a=(0,p.default)(this,t.call(this,e));if(a.ethTokenSwap=g.default.swaps.ethTokenSwap,a.btcSwap=g.default.swaps.btcSwap,!a.ethTokenSwap)throw new Error('BTC2ETH failed. "ethTokenSwap" of type object required');if(!a.btcSwap)throw new Error('BTC2ETH failed. "btcSwap" of type object required');return a.state={step:0,signTransactionUrl:null,isSignFetching:!1,isParticipantSigned:!1,secretHash:null,btcScriptValues:null,btcScriptVerified:!1,isBalanceFetching:!1,isBalanceEnough:!1,balance:null,ethSwapCreationTransactionUrl:null,isEthContractFunded:!1,isEthWithdrawn:!1,isBtcWithdrawn:!1},t.prototype._persistSteps.call(a),a._persistState(),a}return(0,m.default)(n,t),n.prototype._persistState=function(){t.prototype._persistState.call(this)},n.prototype._getSteps=function(){var e=this,t=this;return[function(){e.swap.room.once("swap sign",function(){t.finishStep({isParticipantSigned:!0})})},function(){},function(){e.syncBalance()},(0,i.default)(u.default.mark(function n(){var a,r,s,l,i,c;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.swap,r=a.sellAmount,s=a.participant,l=e.btcSwap.createScript({secretHash:t.state.secretHash,btcOwnerPublicKey:g.default.services.auth.accounts.btc.publicKey,ethOwnerPublicKey:s.btc.publicKey}),i=l.script,c=(0,o.default)(l,["script"]),n.next=4,e.btcSwap.fundScript({myKeyPair:g.default.services.auth.accounts.btc,script:i,amount:r});case 4:e.swap.room.sendMessage("create btc script",{scriptValues:c}),t.finishStep({isBtcScriptFunded:!0,btcScriptValues:c});case 6:case"end":return n.stop()}},n,e)})),function(){e.swap.room.once("create eth contract",function(){t.finishStep({isEthContractFunded:!0})})},(0,i.default)(u.default.mark(function n(){var a,r;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.swap.participant,r={ownerAddress:a.eth.address,secret:t.state.secret},n.next=4,e.ethSwap.withdraw(r,function(e){t.setState({ethSwapWithdrawTransactionUrl:e})});case 4:e.swap.room.sendMessage("finish eth withdraw"),t.finishStep({isEthWithdrawn:!0});case 6:case"end":return n.stop()}},n,e)})),function(){}]},n.prototype.submitSecret=function(t){var n=y.default.ripemd160(e.from(t,"hex")).toString("hex");this.finishStep({secret:t,secretHash:n})},n.prototype.syncBalance=function(){function e(){return t.apply(this,arguments)}var t=(0,i.default)(u.default.mark(function e(){var t,n,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.swap.sellAmount,this.setState({isBalanceFetching:!0}),e.next=4,this.btcSwap.fetchBalance(g.default.services.auth.accounts.btc.getAddress());case 4:n=e.sent,a=t<=n,a?this.finishStep({balance:n,isBalanceFetching:!1,isBalanceEnough:!0}):this.setState({balance:n,isBalanceFetching:!1,isBalanceEnough:!1});case 7:case"end":return e.stop()}},e,this)}));return e}(),n}(w.Flow);t.default=_}).call(t,n(6).Buffer)},function(e,t){e.exports={overlay:"AOfotv",loader:"_2DlhHx",small:"fMD4oL",center:"_2Q-7EU",loader1:"_3xH56a",loader2:"_2bU_0h",loader3:"_2fM_Pw"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r=n(1),u=a(r),s=n(3),o=a(s),l=n(4),i=a(l),c=n(0),d=a(c),f=n(130),p=n(53),h=a(p),m=n(72),v=a(m),y=function(e){function t(n){var a=n.orderId;(0,u.default)(this,t);var r=(0,o.default)(this,e.call(this));return r.handleFlowStateUpdate=function(e){r.setState({flow:e})},r.signSwap=function(){r.swap.flow.sign()},r.confirmBTCScriptChecked=function(){r.swap.flow.verifyBtcScript()},r.updateBalance=function(){r.swap.flow.syncBalance()},r.swap=new h.default(a,f.ETH2BTC),r.state={flow:r.swap.flow.state},r}return(0,i.default)(t,e),t.prototype.componentWillMount=function(){this.swap.on("state update",this.handleFlowStateUpdate)},t.prototype.componentWillUnmount=function(){this.swap.off("state update",this.handleFlowStateUpdate)},t.prototype.render=function(){var e=this.state.flow;return d.default.createElement("div",null,this.swap.id&&d.default.createElement("strong",null,this.swap.sellAmount," ",this.swap.sellCurrency," ⟶ ",this.swap.buyAmount," ",this.swap.buyCurrency),!this.swap.id&&(this.swap.isMy?d.default.createElement("h3",null,"This order doesn't have a buyer"):d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"The order creator is offline. Waiting for him.."),d.default.createElement(v.default,{overlay:!1}))),e.isWaitingForOwner&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"Waiting for other user when he connect to the order"),d.default.createElement(v.default,{overlay:!1})),(1===e.step||e.isMeSigned)&&d.default.createElement("h3",null,"1. Please confirm your participation to begin the deal"),1===e.step&&d.default.createElement(c.Fragment,null,d.default.createElement("div",null,"Confirmation of the transaction is necessary for crediting the reputation. If a user does not bring the deal to the end he gets a negative reputation."),!e.isSignFetching&&!e.isMeSigned&&d.default.createElement(c.Fragment,null,d.default.createElement("br",null),d.default.createElement("button",{onClick:this.signSwap},"Confirm")),(e.isSignFetching||e.signTransactionUrl)&&d.default.createElement(c.Fragment,null,d.default.createElement("h4",null,"Please wait. Confirmation processing"),e.signTransactionUrl&&d.default.createElement("div",null,"Transaction:",d.default.createElement("strong",null,d.default.createElement("a",{href:e.signTransactionUrl,rel:"noopener noreferrer",target:"_blank"},e.signTransactionUrl))),e.isSignFetching&&d.default.createElement(v.default,{overlay:!1}))),e.isMeSigned&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"2. Waiting BTC Owner creates Secret Key, creates BTC Script and charges it"),2===e.step&&d.default.createElement(v.default,{overlay:!1}),e.secretHash&&e.btcScriptValues&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"3. Bitcoin Script created and charged. Please check the information below"),d.default.createElement("div",null,"Secret Hash: ",d.default.createElement("strong",null,e.secretHash)),d.default.createElement("div",null,"Script address:",d.default.createElement("strong",null,d.default.createElement("a",{href:"https://www.blocktrail.com/tBTC/address/"+e.btcScriptValues.address,target:"_blank",rel:"noopener noreferrer"},e.btcScriptValues.address))),d.default.createElement("br",null),d.default.createElement("pre",null,d.default.createElement("code",{className:"code"},"\n  bitcoinjs.script.compile([\n    bitcoin.core.opcodes.OP_RIPEMD160,\n    Buffer.from('"+e.btcScriptValues.secretHash+"', 'hex'),\n    bitcoin.core.opcodes.OP_EQUALVERIFY,\n\n    Buffer.from('"+e.btcScriptValues.ethOwnerPublicKey+"', 'hex'),\n    bitcoin.core.opcodes.OP_EQUAL,\n    bitcoin.core.opcodes.OP_IF,\n\n    Buffer.from('"+e.btcScriptValues.ethOwnerPublicKey+"', 'hex'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ELSE,\n\n    bitcoin.core.script.number.encode("+e.btcScriptValues.lockTime+"),\n    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n    bitcoin.core.opcodes.OP_DROP,\n    Buffer.from('"+e.btcScriptValues.btcOwnerPublicKey+"', 'hex'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ENDIF,\n  ])\n                      ")),3===e.step&&d.default.createElement(c.Fragment,null,d.default.createElement("br",null),d.default.createElement("button",{onClick:this.confirmBTCScriptChecked},"Everything is OK. Continue"))),4===e.step&&!e.isBalanceEnough&&!e.isBalanceFetching&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"Not enough money for this swap. Please fund the balance"),d.default.createElement("div",null,d.default.createElement("div",null,"Your balance: ",d.default.createElement("strong",null,e.balance)," ",this.swap.sellCurrency),d.default.createElement("div",null,"Required balance: ",d.default.createElement("strong",null,this.swap.sellAmount)," ",this.swap.sellCurrency),d.default.createElement("hr",null),d.default.createElement("span",null,e.address)),d.default.createElement("br",null),d.default.createElement("button",{type:"button",onClick:this.updateBalance},"Continue")),4===e.step&&e.isBalanceFetching&&d.default.createElement(c.Fragment,null,d.default.createElement("div",null,"Checking balance.."),d.default.createElement(v.default,{overlay:!1})),(5===e.step||e.isEthContractFunded)&&d.default.createElement("h3",null,"4. Creating Ethereum Contract. Please wait, it will take a while"),e.ethSwapCreationTransactionUrl&&d.default.createElement("div",null,"Transaction:",d.default.createElement("strong",null,d.default.createElement("a",{href:e.ethSwapCreationTransactionUrl,target:"_blank",rel:"noopener noreferrer"},e.ethSwapCreationTransactionUrl))),5===e.step&&d.default.createElement(v.default,{overlay:!1}),(6===e.step||e.isEthWithdrawn)&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"5. Waiting BTC Owner adds Secret Key to ETH Contact"),!e.isEthWithdrawn&&d.default.createElement(v.default,{overlay:!1})),(7===e.step||e.isBtcWithdrawn)&&d.default.createElement("h3",null,"6. BTC Owner successfully took money from ETH Contract and left Secret Key. Requesting withdrawal from BTC Script. Please wait"),e.btcSwapWithdrawTransactionUrl&&d.default.createElement("div",null,"Transaction:",d.default.createElement("strong",null,d.default.createElement("a",{href:"https://www.blocktrail.com/tBTC/tx/"+e.btcSwapWithdrawTransactionUrl,target:"_blank",rel:"noopener noreferrer"},e.btcSwapWithdrawTransactionUrl))),7===e.step&&d.default.createElement(v.default,{overlay:!1}),e.isBtcWithdrawn&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"7. Money was transferred to your wallet. Check the balance."),d.default.createElement("h2",null,"Thank you for using Swap.Online!"))))},t}(c.Component);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r=n(1),u=a(r),s=n(3),o=a(s),l=n(4),i=a(l),c=n(0),d=a(c),f=n(130),p=n(53),h=a(p),m=n(72),v=a(m),y=function(e){function t(n){var a=n.orderId;(0,u.default)(this,t);var r=(0,o.default)(this,e.call(this));return r.handleFlowStateUpdate=function(e){r.setState({flow:e})},r.signSwap=function(){r.swap.flow.sign()},r.confirmBTCScriptChecked=function(){r.swap.flow.verifyBtcScript()},r.updateBalance=function(){r.swap.flow.syncBalance()},r.swap=new h.default(a,f.ETHTOKEN2BTC),r.state={flow:r.swap.flow.state},r}return(0,i.default)(t,e),t.prototype.componentWillMount=function(){this.swap.on("state update",this.handleFlowStateUpdate)},t.prototype.componentWillUnmount=function(){this.swap.off("state update",this.handleFlowStateUpdate)},t.prototype.render=function(){var e=this.state.flow;return d.default.createElement("div",null,this.swap.id&&d.default.createElement("strong",null,this.swap.sellAmount," ",this.swap.sellCurrency," ⟶ ",this.swap.buyAmount," ",this.swap.buyCurrency),!this.swap.id&&(this.swap.isMy?d.default.createElement("h3",null,"This order doesn't have a buyer"):d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"The order creator is offline. Waiting for him.."),d.default.createElement(v.default,{overlay:!1}))),e.isWaitingForOwner&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"Waiting for other user when he connect to the order"),d.default.createElement(v.default,{overlay:!1})),(1===e.step||e.isMeSigned)&&d.default.createElement("h3",null,"1. Please confirm your participation to begin the deal"),1===e.step&&d.default.createElement(c.Fragment,null,d.default.createElement("div",null,"Confirmation of the transaction is necessary for crediting the reputation. If a user does not bring the deal to the end he gets a negative reputation."),!e.isSignFetching&&!e.isMeSigned&&d.default.createElement(c.Fragment,null,d.default.createElement("br",null),d.default.createElement("button",{onClick:this.signSwap},"Confirm")),(e.isSignFetching||e.signTransactionUrl)&&d.default.createElement(c.Fragment,null,d.default.createElement("h4",null,"Please wait. Confirmation processing"),e.signTransactionUrl&&d.default.createElement("div",null,"Transaction:",d.default.createElement("strong",null,d.default.createElement("a",{href:e.signTransactionUrl,rel:"noopener noreferrer",target:"_blank"},e.signTransactionUrl))),e.isSignFetching&&d.default.createElement(v.default,{overlay:!1}))),e.isMeSigned&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"2. Waiting BTC Owner creates Secret Key, creates BTC Script and charges it"),2===e.step&&d.default.createElement(v.default,{overlay:!1}),e.secretHash&&e.btcScriptValues&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"3. Bitcoin Script created and charged. Please check the information below"),d.default.createElement("div",null,"Secret Hash: ",d.default.createElement("strong",null,e.secretHash)),d.default.createElement("div",null,"Script address:",d.default.createElement("strong",null,d.default.createElement("a",{href:"https://www.blocktrail.com/tBTC/address/"+e.btcScriptValues.address,target:"_blank",rel:"noopener noreferrer"},e.btcScriptValues.address))),d.default.createElement("br",null),d.default.createElement("pre",null,d.default.createElement("code",{className:"code"},"\n  bitcoinjs.script.compile([\n    bitcoin.core.opcodes.OP_RIPEMD160,\n    Buffer.from('"+e.btcScriptValues.secretHash+"', 'hex'),\n    bitcoin.core.opcodes.OP_EQUALVERIFY,\n\n    Buffer.from('"+e.btcScriptValues.ethOwnerPublicKey+"', 'hex'),\n    bitcoin.core.opcodes.OP_EQUAL,\n    bitcoin.core.opcodes.OP_IF,\n\n    Buffer.from('"+e.btcScriptValues.ethOwnerPublicKey+"', 'hex'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ELSE,\n\n    bitcoin.core.script.number.encode("+e.btcScriptValues.lockTime+"),\n    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n    bitcoin.core.opcodes.OP_DROP,\n    Buffer.from('"+e.btcScriptValues.btcOwnerPublicKey+"', 'hex'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ENDIF,\n  ])\n                      ")),3===e.step&&d.default.createElement(c.Fragment,null,d.default.createElement("br",null),d.default.createElement("button",{onClick:this.confirmBTCScriptChecked},"Everything is OK. Continue"))),4===e.step&&!e.isBalanceEnough&&!e.isBalanceFetching&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"Not enough money for this swap. Please fund the balance"),d.default.createElement("div",null,d.default.createElement("div",null,"Your balance: ",d.default.createElement("strong",null,e.balance)," ",this.swap.sellCurrency),d.default.createElement("div",null,"Required balance: ",d.default.createElement("strong",null,this.swap.sellAmount)," ",this.swap.sellCurrency),d.default.createElement("hr",null),d.default.createElement("span",null,e.address)),d.default.createElement("br",null),d.default.createElement("button",{type:"button",onClick:this.updateBalance},"Continue")),4===e.step&&e.isBalanceFetching&&d.default.createElement(c.Fragment,null,d.default.createElement("div",null,"Checking balance.."),d.default.createElement(v.default,{overlay:!1})),(5===e.step||e.isEthContractFunded)&&d.default.createElement("h3",null,"4. Creating Ethereum Contract. Please wait, it will take a while"),e.ethSwapCreationTransactionUrl&&d.default.createElement("div",null,"Transaction:",d.default.createElement("strong",null,d.default.createElement("a",{href:e.ethSwapCreationTransactionUrl,target:"_blank",rel:"noopener noreferrer"},e.ethSwapCreationTransactionUrl))),5===e.step&&d.default.createElement(v.default,{overlay:!1}),(6===e.step||e.isEthWithdrawn)&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"5. Waiting BTC Owner adds Secret Key to ETH Contact"),!e.isEthWithdrawn&&d.default.createElement(v.default,{overlay:!1})),(7===e.step||e.isBtcWithdrawn)&&d.default.createElement("h3",null,"6. BTC Owner successfully took money from ETH Contract and left Secret Key. Requesting withdrawal from BTC Script. Please wait"),e.btcSwapWithdrawTransactionUrl&&d.default.createElement("div",null,"Transaction:",d.default.createElement("strong",null,d.default.createElement("a",{href:"https://www.blocktrail.com/tBTC/tx/{flow.btcSwapWithdrawTransactionUrl}",target:"_blank",rel:"noopener noreferrer"},e.btcSwapWithdrawTransactionUrl))),7===e.step&&d.default.createElement(v.default,{overlay:!1}),e.isBtcWithdrawn&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"7. Money was transferred to your wallet. Check the balance."),d.default.createElement("h2",null,"Thank you for using Swap.Online!"))))},t}(c.Component);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r=n(1),u=a(r),s=n(3),o=a(s),l=n(4),i=a(l),c=n(0),d=a(c),f=n(130),p=n(53),h=a(p),m=n(72),v=a(m),y=function(e){function t(n){var a=n.orderId;(0,u.default)(this,t);var r=(0,o.default)(this,e.call(this));return r.handleFlowStateUpdate=function(e){r.setState({flow:e})},r.submitSecret=function(){var e=r.state.secret;r.swap.flow.submitSecret(e)},r.updateBalance=function(){r.swap.flow.syncBalance()},r.swap=new h.default(a,f.BTC2ETHTOKEN),r.state={flow:r.swap.flow.state,secret:"c0809ce9f484fdcdfb2d5aabd609768ce0374ee97a1a5618ce4cd3f16c00a078"},r}return(0,i.default)(t,e),t.prototype.componentWillMount=function(){this.swap.on("state update",this.handleFlowStateUpdate)},t.prototype.componentWillUnmount=function(){this.swap.off("state update",this.handleFlowStateUpdate)},t.prototype.render=function(){var e=this.state,t=e.secret,n=e.flow;return d.default.createElement("div",null,this.swap.id&&d.default.createElement("strong",null,this.swap.sellAmount," ",this.swap.sellCurrency," ⟶ ",this.swap.buyAmount," ",this.swap.buyCurrency),!this.swap.id&&(this.swap.isMy?d.default.createElement("h3",null,"This order doesn't have a buyer"):d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"The order creator is offline. Waiting for him.."),d.default.createElement(v.default,{overlay:!1}))),n.isWaitingForOwner&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"Waiting for other user when he connect to the order"),d.default.createElement(v.default,{overlay:!1})),(1===n.step||n.isMeSigned)&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"1. Waiting participant confirm this swap"),d.default.createElement(v.default,{overlay:!1})),n.isParticipantSigned&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"2. Create a secret key"),n.secretHash?d.default.createElement(c.Fragment,null,d.default.createElement("div",null,"Save the secret key! Otherwise there will be a chance you loose your money!"),d.default.createElement("div",null,"Secret Key: ",d.default.createElement("strong",null,n.secret)),d.default.createElement("div",null,"Secret Hash: ",d.default.createElement("strong",null,n.secretHash))):d.default.createElement(c.Fragment,null,d.default.createElement("input",{type:"text",placeholder:"Secret Key",defaultValue:t}),d.default.createElement("br",null),d.default.createElement("button",{onClick:this.submitSecret},"Confirm")),3===n.step&&!n.isBalanceEnough&&!n.isBalanceFetching&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"Not enough money for this swap. Please charge the balance"),d.default.createElement("div",null,d.default.createElement("div",null,"Your balance: ",d.default.createElement("strong",null,n.balance)," ",this.swap.sellCurrency),d.default.createElement("div",null,"Required balance: ",d.default.createElement("strong",null,this.swap.sellAmount)," ",this.swap.sellCurrency),d.default.createElement("hr",null),d.default.createElement("span",null,n.address)),d.default.createElement("br",null),d.default.createElement("button",{type:"button",onClick:this.updateBalance},"Continue")),3===n.step&&n.isBalanceFetching&&d.default.createElement(c.Fragment,null,d.default.createElement("div",null,"Checking balance.."),d.default.createElement(v.default,{overlay:!1})),(4===n.step||n.btcScriptValues)&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"3. Creating Bitcoin Script. Please wait, it will take a while"),!n.btcScriptValues&&d.default.createElement(v.default,{overlay:!1})),(5===n.step||n.isEthContractFunded)&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"4. ETH Owner received Bitcoin Script and Secret Hash. Waiting when he creates ETH Contract"),!n.isEthContractFunded&&d.default.createElement(v.default,{overlay:!1})),(6===n.step||n.isEthWithdrawn)&&d.default.createElement("h3",null,"5. ETH Contract created and charged. Requesting withdrawal from ETH Contract. Please wait"),n.ethSwapWithdrawTransactionUrl&&d.default.createElement("div",null,"Transaction:",d.default.createElement("strong",null,d.default.createElement("a",{href:n.ethSwapWithdrawTransactionUrl,target:"_blank"},n.ethSwapWithdrawTransactionUrl))),6===n.step&&d.default.createElement(v.default,{overlay:!1}),n.isEthWithdrawn&&d.default.createElement(c.Fragment,null,d.default.createElement("h3",null,"6. Money was transferred to your wallet. Check the balance."),d.default.createElement("h2",null,"Thank you for using Swap.Online!"))))},t}(c.Component);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(92),m=n(27),v=n(88),y=a(v),w=n(128),b=a(w),g=n(922),_=a(g),E=(r=(0,m.connect)({feeds:"feeds.items"}))(u=function(e){function t(){var n,a,r;(0,o.default)(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=a=(0,i.default)(this,e.call.apply(e,[this].concat(s))),a.acceptRequest=function(e,t){h.swapApp.services.orders.getByKey(e).acceptRequest(t)},a.declineRequest=function(e,t){h.swapApp.services.orders.getByKey(e).declineRequest(t)},r=n,(0,i.default)(a,r)}return(0,d.default)(t,e),t.prototype.render=function(){var e=this.props.feeds,t=h.swapApp.services.room.peer;return p.default.createElement("section",null,p.default.createElement(y.default,null,p.default.createElement(b.default,null,"Feed")),p.default.createElement(_.default,{feeds:e,mePeer:t,acceptRequest:this.acceptRequest,declineRequest:this.declineRequest,update:this.updateOrders}))},t}(p.default.Component))||u;t.default=E},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(7),o=a(s),l=n(14),i=n(55),c=n(2),d=a(c),f=n(923),p=a(f),h=n(924),m=a(h),v=function(e){var t=e.feeds,n=e.mePeer,a=e.acceptRequest,r=e.declineRequest;return t.map(function(e){var t=e.request,s=e.content,o=s.buyAmount,c=s.buyCurrency,d=s.sellAmount,f=s.sellCurrency,p=e.id,h=e.peer;return n===h&&t.map(function(e){var t=e.peer,n=e.reputation;return u.default.createElement("div",{styleName:"userTooltip",key:p},u.default.createElement("div",{styleName:"title"},"User with ",u.default.createElement("b",null,n)," reputation wants to swap "),u.default.createElement("div",{styleName:"currency"},u.default.createElement("span",null,o," ",u.default.createElement("span",{styleName:"coin"},c)),u.default.createElement("span",{styleName:"arrow"},u.default.createElement("img",{src:m.default,alt:""})),u.default.createElement("span",null,d," ",u.default.createElement("span",{styleName:"coin"},f))),u.default.createElement("div",{styleName:"buttons"},u.default.createElement("div",{styleName:"withdrawButton",onClick:function(){return r(p,t)}},"Decline"),u.default.createElement(i.Link,{to:l.links.swap+"/"+p},u.default.createElement("div",{styleName:"withdrawButton",onClick:function(){return a(p,t)}},"Accept"))))})})};v.propTypes={orders:o.default.array,mePeer:o.default.string,acceptRequest:o.default.func},t.default=(0,d.default)(v,p.default,{allowMultiple:!0})},function(e,t){e.exports={userTooltip:"VWwjR0",title:"z_31Kp",currency:"_1Z91so",coin:"_3HQEd8",buttons:"_2btjqE",arrow:"_77iS7G",checked:"-A0fCV",withdrawButton:"_133mOo",icon:"_1NzA4J"}},function(e,t){e.exports="https://testnet.swap.online/images/arrow-right_014b04.svg"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(327),m=n(319),v=n(7),y=a(v),w=n(926),b=a(w),g=(u=r=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.store,a=e.routes;return p.default.createElement(m.Provider,{store:n},p.default.createElement(h.ConnectedRouter,{history:t},p.default.createElement(b.default,null,a)))},t}(p.default.PureComponent),r.propTypes={store:y.default.object.isRequired,history:y.default.object.isRequired,routes:y.default.element.isRequired},u);t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l,i=n(1),c=a(i),d=n(3),f=a(d),p=n(4),h=a(p),m=n(0),v=a(m),y=n(97),w=n(7),b=a(w),g=n(13),_=a(g),E=n(27),S=n(68),M=a(S),C=(n(14),n(927),n(2)),k=a(C),x=n(938),T=a(x);n(939);var A=n(940),N=a(A),I=n(72),O=a(I),B=n(958),P=a(B),R=n(959),q=a(R),F=n(194),K=a(F),H=n(1003),W=a(H);M.default.locale("en-gb");var L=(r=(0,E.connect)({ethAddress:"user.ethData.address",btcAddress:"user.btcData.address",tokenAddress:"user.tokenData.address",isVisible:"loader.isVisible"}),u=(0,k.default)(T.default),(0,y.withRouter)(s=r(s=u((l=o=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,e.apply(this,arguments))}return(0,h.default)(t,e),t.prototype.componentDidMount=function(){_.default.user.sign()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.ethAddress,a=e.btcAddress,r=e.tokenAddress;return n&&a&&r?v.default.createElement(m.Fragment,null,v.default.createElement(N.default,null),v.default.createElement(K.default,{styleName:"main"},t),v.default.createElement(P.default,null),v.default.createElement(q.default,null),v.default.createElement(W.default,null)):v.default.createElement(O.default,null)},t}(v.default.Component),o.propTypes={children:b.default.element.isRequired},s=l))||s)||s)||s);t.default=L},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createSwapApp=t.swapApp=void 0;var r=n(77),u=a(r),s=n(91),o=n(102),l=a(o),i=n(928),c=localStorage.clear.bind(localStorage);localStorage.clear=function(){c()};var d=void 0,f=function(){var n=(0,s.getState)(),a=n.user,r=a.ethData,o=a.btcData;(0,i.setupEnv)({web3:u.default,bitcoinJs:l.default,Ipfs:e.Ipfs,IpfsRoom:e.IpfsRoom}),t.swapApp=d=new i.SwapApp({me:{reputation:10,eth:{address:r.address,publicKey:r.publicKey},btc:{address:o.address,publicKey:o.publicKey}},config:{ipfs:{EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/star.wpmix.net/tcp/443/wss/p2p-websocket-star"]}}}}}),console.log("swapApp",d),d.on("ready",function(){console.log("swapApp ready"),console.log("initial orders",d.getOrders())}),d.on("user online",function(e){console.log("user online",e)}),d.on("user offline",function(e){console.log("user offline",e)}),d.on("new orders",function(e){console.log("new orders",e)}),d.on("new order",function(e){console.log("new order",e)}),d.on("remove order",function(e){console.log("remove order",e)}),d.on("new order request",function(e){var t=e.swapId,n=e.participant;console.error("user "+n.peer+" requesting swap",{swap:d.orderCollection.getByKey(t),participant:n})})};t.swapApp=d,t.createSwapApp=f}).call(t,n(10))},function(e,t,n){"use strict";t.__esModule=!0,t.SwapApp=t.setupEnv=void 0;var a=n(929),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=n(93);t.setupEnv=u.setupEnv,t.SwapApp=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),u=a(r),s=n(73),o=n(131),l=a(o),i=n(132),c=n(345),d=a(c),f=n(936),p=a(f),h=function(){function e(t){var n=t.me,a=t.config;(0,u.default)(this,e),this.orderCollection=d.default,this.storage=i.storage,this.storage.me=n,l.default.subscribe("ready",function(){s.events.dispatch("ready")}),l.default.init(a.ipfs)}return e.prototype.getOrders=function(){return this.orderCollection.items},e.prototype.getMyOrders=function(){return this.orderCollection.getMyOrders()},e.prototype.createOrder=function(e){this.orderCollection.create(e)},e.prototype.removeOrder=function(e){d.default.remove(e)},e.prototype.createSwap=function(e){return new p.default(e)},e.prototype.on=function(e,t){s.events.subscribe(e,t)},e.prototype.off=function(e,t){s.events.unsubscribe(e,t)},e}();t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(39),u=a(r),s=n(117),o=a(s),l=n(9),i=a(l),c=n(1),d=a(c),f=n(73),p=a(f),h=n(132),m=n(93),v=function(){function e(){var t=this;(0,d.default)(this,e),this.handleUserOnline=function(e){e!==h.storage.me.peer&&t.events.dispatch("user online",e)},this.handleUserOffline=function(e){e!==h.storage.me.peer&&t.events.dispatch("user offline",e)},this.handleNewMessage=function(e){if(e.from!==h.storage.me.peer){var n=JSON.parse(e.data.toString());n&&n.length&&n.forEach(function(n){var a=n.event,r=n.data;t.events.dispatch(a,(0,i.default)({},r||{},{fromPeer:e.from}))})}},this.events=new p.default}return e.prototype.init=function(e){var t=this;if(!e||"object"!==(void 0===e?"undefined":(0,o.default)(e)))throw new Error('Room failed. "config" of type object required.');var n=new m.env.Ipfs(e);n.once("error",function(e){console.log("IPFS error!",e)}),n.once("ready",function(){return n.id(function(e,a){if(console.info("IPFS ready!",a),e)throw e;t._init({peer:a.id,ipfsConnection:n})})})},e.prototype._init=function(e){var t=e.peer,n=e.ipfsConnection;h.storage.me.peer=t,this.connection=m.env.IpfsRoom(n,"jswaps",{pollInterval:5e3}),this.connection.on("peer joined",this.handleUserOnline),this.connection.on("peer left",this.handleUserOffline),this.connection.on("message",this.handleNewMessage),this.events.dispatch("ready")},e.prototype.subscribe=function(e,t){this.events.subscribe(e,t)},e.prototype.once=function(e,t){this.events.once(e,t)},e.prototype.sendMessage=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var a=t[0];this.connection.broadcast((0,u.default)(a))}else{var r=t[0],s=t[1];this.connection.sendTo(r,(0,u.default)(s))}},e}();t.default=new v},function(e,t,n){"use strict";t.__esModule=!0;var a=n(39),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=n(344),s=null,o=function(){if(null===s)try{u.env.localStorage.setItem("test","test"),u.env.localStorage.removeItem("test"),s=!0}catch(e){s=!1}return s},l=function(e,t){o()&&u.env.localStorage.setItem(e,(0,r.default)(t))},i=function(e){if(o()){var t=u.env.localStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}},c=function(e){if(o())return u.env.localStorage.removeItem(e)},d=function(){o()&&u.env.localStorage.clear()};t.default={setItem:l,getItem:i,removeItem:c,clear:d}},function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r={};return n.forEach(function(t){r[t]=e[t]}),r};t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var a=n(17),r=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u={};return(0,r.default)(a).forEach(function(e){t.includes(e)||(u[e]=a[e])}),u};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(17),u=a(r),s=n(9),o=a(s),l=n(1),i=a(l),c=function(){function e(){(0,i.default)(this,e),this.items=[],this.itemIds={}}return e.prototype.prepend=function(e,t){if(this.items.unshift(e),t){for(var n in this.itemIds)this.itemIds.hasOwnProperty(n)&&(this.itemIds[n]+=1);this.itemIds[t]=0}return e},e.prototype.append=function(e,t){return this.items.push(e),t&&(this.itemIds[t]=this.items.length-1),e},e.prototype.removeByIndex=function(e){this.items=this.items.splice(e,1)},e.prototype.removeByKey=function(e){var t=this;console.log("removeByKey",e),console.log("items",[].concat(this.items)),console.log("itemIds",(0,o.default)({},this.itemIds));var n=this.itemIds[e];console.log("index",n),void 0!==n&&(this.items.splice(n,1),delete this.itemIds[e],console.log("items after removing",[].concat(this.items)),(0,u.default)(this.itemIds).forEach(function(e){t.itemIds[e]>n&&t.itemIds[e]--}),console.log("items after reindexing",[].concat(this.items)))},e.prototype.indexOf=function(e){return this.items.indexOf(e)},e.prototype.getByIndex=function(e){return this.items[e]},e.prototype.getByKey=function(e){return this.items[this.itemIds[e]]},e.prototype.isExist=function(e){return this.items.includes(e)},e.prototype.isExistByKey=function(e){return Boolean(this.getByKey(e))},e}();t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(17),u=a(r),s=n(9),o=a(s),l=n(1),i=a(l),c=n(73),d=n(132),f=n(131),p=a(f),h=function(){var e=Date.now();return function(){return d.storage.me.peer+"-"+ ++e}}(),m=function(){function e(t){var n=t.collection,a=t.data;(0,i.default)(this,e),this.id=a.id||h(),this.isMy=null,this.owner=null,this.participant=null,this.buyCurrency=null,this.sellCurrency=null,this.buyAmount=null,this.sellAmount=null,this.collection=n,this.requests=[],this.isRequested=!1,this.isProcessing=!1,this._update((0,o.default)({},a,{isMy:a.owner.peer===d.storage.me.peer})),this._onMount()}return e.prototype._onMount=function(){var e=this;p.default.subscribe("request swap",function(t){var n=t.swapId,a=t.participant;n!==e.id||e.requests.find(function(e){return e.peer===a.peer})||(e.requests.push(a),c.events.dispatch("new order request",{swapId:n,participant:a}))})},e.prototype._update=function(e){var t=this;(0,u.default)(e).forEach(function(n){t[n]=e[n]})},e.prototype.update=function(e){this._update(e),this.collection._saveMyOrders(),c.events.dispatch("swap update",this,e)},e.prototype.sendRequest=function(e){var t=this;return d.storage.me.peer===this.owner.peer?void console.warn("You are the owner of this Order. You can't send request to yourself."):this.isRequested?void console.warn("You have already requested this swap."):(this.update({isRequested:!0}),p.default.sendMessage(this.owner.peer,[{event:"request swap",data:{swapId:this.id,participant:d.storage.me}}]),p.default.subscribe("accept swap request",function(n){n.swapId===t.id&&(this.unsubscribe(),t.update({isProcessing:!0,isRequested:!1}),e(!0))}),void p.default.subscribe("decline swap request",function(n){n.swapId===t.id&&(this.unsubscribe(),t.update({isRequested:!1}),e(!1))}))},e.prototype.acceptRequest=function(e){var t=this.requests.find(function(t){return t.peer===e});this.update({isRequested:!1,isProcessing:!0,participant:t,requests:[]}),p.default.sendMessage(e,[{event:"accept swap request",data:{swapId:this.id}}])},e.prototype.declineRequest=function(e){var t=void 0;this.requests.some(function(n,a){return n.peer===e&&(t=a),void 0!==t});var n=[].concat(this.requests.slice(0,t),this.requests.slice(t+1));this.update({isRequested:!1,requests:n}),p.default.sendMessage(e,[{event:"decline swap request",data:{swapId:this.id}}])},e}();t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(17),u=a(r),s=n(9),o=a(s),l=n(21),i=a(l),c=n(1),d=a(c),f=n(73),p=a(f),h=n(937),m=a(h),v=n(345),y=a(v),w=n(93),b=function(){function e(t){var n=t.orderId;(0,d.default)(this,e),this.events=new p.default,this.room=null,this.flow=null,this.id=n,this.isMy=null,this.owner=null,this.participant=null,this.buyCurrency=null,this.sellCurrency=null,this.buyAmount=null,this.sellAmount=null,this._persistState()}return e.prototype._persistState=function(){var e=w.localStorage.getItem("swap."+this.id)||y.default.getByKey(this.id);if(console.log("ORDER SWAP",e),e){var t=(0,w.pullProps)(e,"isMy","owner","participant","buyCurrency","sellCurrency","buyAmount","sellAmount"),n=t.isMy,a=t.buyAmount,r=t.sellAmount,u=t.buyCurrency,s=t.sellCurrency,l=(0,i.default)(t,["isMy","buyAmount","sellAmount","buyCurrency","sellCurrency"]),c=(0,o.default)({},l,{isMy:n,buyAmount:n?a:r,sellAmount:n?r:a,buyCurrency:n?u:s,sellCurrency:n?s:u});console.log("ORDER SWAP",c),c.participant||n||(c.participant=c.owner),this.room=new m.default({participantPeer:c.participant.peer}),this.update(c),this._saveState()}},e.prototype._saveState=function(){var e=(0,w.pullProps)(this,"id","isMy","owner","participant","buyCurrency","sellCurrency","buyAmount","sellAmount");console.log("New Swap state:",e),w.localStorage.setItem("swap."+this.id,e)},e.prototype.setFlow=function(e,t){return this.flow=new e({swap:this,options:t}),this.flow},e.prototype.update=function(e){var t=this;(0,u.default)(e).forEach(function(n){t[n]=e[n]}),this._saveState()},e.prototype.on=function(e,t){this.events.subscribe(e,t)},e.prototype.off=function(e,t){this.events.unsubscribe(e,t)},e}();t.default=b},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),u=a(r),s=n(39),o=a(s),l=n(21),i=a(l),c=n(1),d=a(c),f=n(131),p=a(f),h=function(){function e(t){var n=t.swapId,a=t.participantPeer;(0,d.default)(this,e),this.swapId=n,this.peer=a}return e.prototype.subscribe=function(e,t){var n=this;p.default.events.subscribe(e,function(e){var a=e.fromPeer,r=e.swapId,u=(0,i.default)(e,["fromPeer","swapId"]);a===n.peer&&r===n.swapId&&t(u)})},e.prototype.once=function(e,t){var n=this;p.default.events.subscribe(e,function(a){var r=a.fromPeer,u=a.swapId,s=(0,i.default)(a,["fromPeer","swapId"]);r===n.peer&&u===n.swapId&&(console.error('INCOME SwapRoom event "'+e+'"'),this.unsubscribe(),t(s))})},e.prototype.sendMessage=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var a=t[0];"string"==typeof a?(console.error('OUTCOME SwapRoom event "'+a+'"'),p.default.connection.sendTo(this.peer,(0,o.default)([{event:a,swapId:this.swapId}]))):Array.isArray(a)&&(a.forEach(function(e){var t=e.event;console.log('OUTCOME SwapRoom event "'+t+'"')}),p.default.connection.sendTo(this.peer,(0,o.default)(a)))}else{var r=t[0],s=t[1];console.log('OUTCOME SwapRoom event "'+r+'"'),p.default.connection.sendTo(this.peer,(0,o.default)([{event:r,data:(0,u.default)({swapId:this.swapId},s)}]))}},e}();t.default=h},function(e,t){e.exports={main:"_1ywAGt"}},function(e,t){e.exports={modal:"_2bSI7R",btn:"_3hjQqv"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(2),m=a(h),v=n(941),y=a(v),w=n(194),b=a(w),g=n(346),_=a(g),E=n(946),S=a(E),M=n(948),C=a(M),k=(r=(0,m.default)(y.default))(u=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){return p.default.createElement("div",{styleName:"header"},p.default.createElement(b.default,{styleName:"container"},p.default.createElement(_.default,{withLink:!0}),p.default.createElement(S.default,null),p.default.createElement(C.default,null)))},t}(f.Component))||u;t.default=k},function(e,t){e.exports={header:"-QJzcI",container:"_1uduwC"}},function(e,t){e.exports={widthContainer:"_2MQxGl",widthContainerIn:"_3YeKUt",relative:"_1za6i8",fullHeight:"p3bGwA",centeringContent:"_2hBTXS",main:"_7Imqyr"}},function(e,t){e.exports={logo:"_3ywc1I"}},function(e,t){e.exports="https://testnet.swap.online/images/logo_ab387e.svg"},function(e,t){e.exports="https://testnet.swap.online/images/logo-colored_2cd869.svg"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(13),o=a(s),l=n(55),i=n(14),c=n(2),d=a(c),f=n(947),p=a(f),h=[{title:"Orders",link:i.links.home},{title:"Balances",link:i.links.balance},{title:"History",link:i.links.history}],m={padding:"0 16px",height:"56px",cursor:"pointer",marginLeft:"20px",lineHeight:"56px",textTransform:"uppercase",textAlign:"center",fontSize:"16px",borderRadius:"6px",display:"inline-block",backgroundColor:"#E72BB3",color:"#ffffff"},v=function(){return u.default.createElement("div",{styleName:"nav"},h.map(function(e){var t=e.title,n=e.link;return u.default.createElement(l.NavLink,{exact:!0,key:t,styleName:"link",to:n,activeClassName:p.default.active},t)}),u.default.createElement("a",{key:"Get demo money",style:m,target:"_blank",rel:"noopener noreferrer",onClick:function(){return o.default.user.getDemoMoney()},href:"https://wiki.swap.online/get-free-bitcoins-and-ether"},"Get demo money"))};t.default=(0,d.default)(v,p.default)},function(e,t){e.exports={nav:"_32xpDs",link:"_2q3iYI",active:"_2X-K5z"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o=n(1),l=a(o),i=n(3),c=a(i),d=n(4),f=a(d),p=n(0),h=a(p),m=n(27),v=n(92),y=n(13),w=a(y),b=n(2),g=a(b),_=n(949),E=a(_),S=n(347),M=a(S),C=n(950),k=a(C),x=n(952),T=a(x),A=n(955),N=a(A),I=(r=(0,m.connect)({feeds:"feeds.items"}),u=(0,g.default)(E.default),r(s=u(s=function(e){function t(){var n,a,r;(0,l.default)(this,t);for(var u=arguments.length,s=Array(u),o=0;o<u;o++)s[o]=arguments[o];return n=a=(0,c.default)(this,e.call.apply(e,[this].concat(s))),a.state={view:!0},a.updateOrders=function(){a.setState({orders:v.swapApp.services.orders.items});var e=a.state.orders;0!==e.length&&w.default.feed.getFeedDataFromOrder(e)},a.handleToggleTooltip=function(){a.setState({view:!a.state.view})},a.acceptRequest=function(e,t){v.swapApp.services.orders.getByKey(e).acceptRequest(t),setTimeout(function(){a.handleToggleTooltip()},800),a.updateOrders()},a.soundClick=function(){var e=new Audio;e.src=M.default,e.autoplay=!0},r=n,(0,c.default)(a,r)}return(0,f.default)(t,e),t.prototype.componentWillMount=function(){v.swapApp.services.orders.on("new order request",this.updateOrders)},t.prototype.componentWillUnmount=function(){v.swapApp.services.orders.off("new order request",this.updateOrders)},t.prototype.render=function(){var e=this.state.view,t=this.props.feeds,n=v.swapApp.services.room.peer;return h.default.createElement("div",{styleName:"user-cont"},h.default.createElement(k.default,null),h.default.createElement(T.default,{isToggle:this.handleToggleTooltip,feeds:t,mePeer:n,soundClick:this.soundClick}),e&&h.default.createElement(N.default,{view:e,feeds:t,mePeer:n,acceptRequest:this.acceptRequest}))},t}(h.default.Component))||s)||s);t.default=I},function(e,t){e.exports={"user-cont":"_2pmz1I",hidden:"DHHm8V"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(13),m=a(h),v=n(14),y=n(2),w=a(y),b=n(951),g=a(b),_=(r=(0,w.default)(g.default))(u=function(e){function t(){var n,a,r;(0,o.default)(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=a=(0,i.default)(this,e.call.apply(e,[this].concat(s))),a.handleClick=function(){m.default.modals.open(v.constants.modals.Offer,{}),m.default.analytics.dataEvent("orderbook-click-addoffer-button")},r=n,(0,i.default)(a,r)}return(0,d.default)(t,e),t.prototype.render=function(){return p.default.createElement("div",{href:"#",styleName:"createOffer",onClick:this.handleClick},"Add offer")},t}(f.Component))||u;t.default=_},function(e,t){e.exports={createOffer:"_3sDCI2"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(2),m=a(h),v=n(953),y=a(v),w=n(954),b=a(w),g=(r=(0,m.default)(y.default,{allowMultiple:!0}))(u=function(e){function t(){var n,a,r;(0,o.default)(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=a=(0,i.default)(this,e.call.apply(e,[this].concat(s))),a.state={feeds:null,animation:"user"},a.handleClick=function(){(0,a.props.isToggle)(),a.setState({animation:"user"})},r=n,(0,i.default)(a,r)}return(0,d.default)(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this,n=this.props,a=n.feeds,r=n.soundClick;e.feeds.length>a.length&&(this.setState({feeds:e.feeds,animation:"user shake new"}),setTimeout(function(){t.setState({animation:"user new"})},820),r())},t.prototype.render=function(){var e=this.state.animation;return p.default.createElement("div",{styleName:e,onClick:this.handleClick},p.default.createElement("img",{styleName:"bell",src:b.default,alt:"Bell"}))},t}(f.Component))||u;t.default=g},function(e,t){e.exports={user:"_2RGag8",bell:"_1kxsPB",status:"_1HA8Rs",new:"_3pPu-T",shake:"_2JMEzu"}},function(e,t){e.exports="https://testnet.swap.online/images/avatar_33edf0.svg"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(7),o=a(s),l=n(14),i=n(55),c=n(2),d=a(c),f=n(956),p=a(f),h=n(957),m=a(h),v=function(e){var t=e.feeds,n=e.mePeer,a=e.acceptRequest;return u.default.createElement("div",{styleName:"column"},t.length<3?t.map(function(e){var t=e.request,r=e.content,s=r.buyAmount,o=r.buyCurrency,c=r.sellAmount,d=r.sellCurrency,f=e.id,p=e.peer;return n===p&&t.map(function(e){var t=e.peer,n=e.reputation;return u.default.createElement("div",{styleName:"userTooltip"},u.default.createElement("div",{key:t},u.default.createElement("div",{styleName:"title"},"User with ",u.default.createElement("b",null,n)," reputation wants to swap"),u.default.createElement("div",{styleName:"currency"},u.default.createElement("span",null,s," ",u.default.createElement("span",{styleName:"coin"},o)),u.default.createElement("span",{styleName:"arrow"},u.default.createElement("img",{src:m.default,alt:""})),u.default.createElement("span",null,c," ",u.default.createElement("span",{styleName:"coin"},d)))),u.default.createElement(i.Link,{to:l.links.swap+"/"+f},u.default.createElement("div",{styleName:"checked",onClick:function(){return a(f,t)}})))})}):u.default.createElement("div",{styleName:"feed"},u.default.createElement(i.Link,{to:l.links.feed}," Go to the feed page")))};v.propTypes={feeds:o.default.array,mePeer:o.default.string,acceptRequest:o.default.func},t.default=(0,d.default)(v,p.default,{allowMultiple:!0})},function(e,t){e.exports={column:"_3rHFm5",feed:"_2wHzlm",userTooltip:"v8POQM",title:"_3DK_1S",currency:"_1qKKUr",coin:"X934On",arrow:"_1T0JYa",checked:"_3RrmBT",icon:"_2etP7N"}},function(e,t){e.exports="https://testnet.swap.online/images/arrow-right_014b04.svg"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(27),o=n(72),l=a(o),i=function(e){return e.isVisible&&u.default.createElement(l.default,null)};t.default=(0,s.connect)({isVisible:"loader.isVisible"})(i)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l,i=n(17),c=a(i),d=n(1),f=a(d),p=n(3),h=a(p),m=n(4),v=a(m),y=n(0),w=a(y),b=n(7),g=a(b),_=n(27),E=n(14),S=n(960),M=a(S),C=n(2),k=a(C),x=n(1002),T=a(x),A=(r=(0,_.connect)({modals:"modals"}),u=(0,k.default)(T.default),r(s=u((l=o=function(e){function t(){var n,a,r;(0,f.default)(this,t);for(var u=arguments.length,s=Array(u),o=0;o<u;o++)s[o]=arguments[o];return n=a=(0,h.default)(this,e.call.apply(e,[this].concat(s))),a.state={offsetTop:0},r=n,(0,h.default)(a,r)}return(0,v.default)(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.modals,n=this.state.offsetTop,a=(0,E.getPageOffset)().y;(0,c.default)(t).length?(document.body.classList.add("withOpenedModal"),document.body.style.paddingRight=(0,E.getScrollBarWidth)()+"px",a>0&&this.setState({offsetTop:a})):(document.body.classList.remove("withOpenedModal"),document.body.style.paddingRight="0px",n>0&&(window.scrollTo(0,n),this.setState({offsetTop:0})))},t.prototype.render=function(){var e=this.props.modals,t=(0,c.default)(e);return Boolean(t.length)&&w.default.createElement("div",{styleName:"modalConductor"},t.map(function(t){var n=e[t],a=n.name,r=n.data,u=void 0===r?{}:r,s=n.zIndex;return w.default.createElement(M.default[a],{key:a,name:a,data:u,style:{zIndex:s}})}))},t}(y.Component),o.propTypes={modals:g.default.object},s=l))||s)||s);t.default=A},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(961),u=a(r),s=n(996),o=a(s),l=n(998),i=a(l);t.default={OfferModal:u.default,WithdrawModal:o.default,PrivateKeysModal:i.default}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l=n(1),i=a(l),c=n(3),d=a(c),f=n(4),p=a(f),h=n(0),m=a(h),v=n(7),y=a(v),w=n(2),b=a(w),g=n(962),_=a(g),E=n(13),S=a(E),M=n(195),C=a(M),k=n(970),x=a(k),T=n(982),A=a(T),N=(r=(0,b.default)(_.default))((o=s=function(e){function t(){var n,a,r;(0,i.default)(this,t);for(var u=arguments.length,s=Array(u),o=0;o<u;o++)s[o]=arguments[o];return n=a=(0,d.default)(this,e.call.apply(e,[this].concat(s))),a.state={view:"editOffer",offer:{}},a.handleMoveToConfirmation=function(e){a.setState({view:"confirmOffer",offer:e})},a.handleMoveToOfferEditing=function(){S.default.analytics.dataEvent("orderbook-addoffer-click-confirm-button"),a.setState({view:"editOffer"})},r=n,(0,d.default)(a,r)}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.state,t=e.view,n=e.offer,a=this.props.name,r="editOffer"===t?"Add offer":"Confirm offer";return m.default.createElement(C.default,{name:a,title:r},m.default.createElement("div",{styleName:"content"},"editOffer"===t?m.default.createElement(A.default,{initialData:n,onNext:this.handleMoveToConfirmation}):m.default.createElement(x.default,{offer:n,onBack:this.handleMoveToOfferEditing})))},t}(m.default.Component),s.propTypes={name:y.default.string},u=o))||u;t.default=N},function(e,t){e.exports={content:"_35EvSl"}},function(e,t){e.exports={modal:"_18Zuzz",header:"_247oHD",headerContent:"_1nj0x3",title:"_1fyulC",uppercase:"_2k_g2m",closeButton:"HHCosS",contentContainer:"_2zEN0h",content:"_10IWir"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(46),u=a(r),s=n(21),o=a(s),l=n(0),i=a(l),c=n(7),d=a(c),f=n(14),p=n(2),h=a(p),m=n(965),v=a(m),y=function(e){var t=e.children,n=(0,o.default)(e,["children"]),a=(0,f.ignoreProps)(n,"closePortal");return i.default.createElement("div",(0,u.default)({styleName:"overlay"},a),t)};y.propTypes={children:d.default.node},t.default=(0,h.default)(y,v.default)},function(e,t){e.exports={overlay:"ctI9Nl"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(46),u=a(r),s=n(21),o=a(s),l=n(0),i=a(l),c=n(7),d=a(c),f=n(34),p=a(f),h=n(2),m=a(h),v=n(967),y=a(v),w=function(e){var t=e.children,n=e.scrollable,a=(0,o.default)(e,["children","scrollable"]),r=(0,p.default)("centringContainer",{scrollable:n});return i.default.createElement("div",(0,u.default)({styleName:r},a),i.default.createElement("div",{styleName:"centringContent"},t))};w.propTypes={children:d.default.node,scrollable:d.default.bool},w.defaultProps={scrollable:!1},t.default=(0,m.default)(w,y.default,{allowMultiple:!0})},function(e,t){e.exports={centringContainer:"_1MHV1x",scrollable:"_3_xp05",centringContent:"_1MbRzk"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(46),u=a(r),s=n(21),o=a(s),l=n(0),i=a(l),c=n(7),d=a(c),f=n(34),p=a(f),h=n(2),m=a(h),v=n(969),y=a(v),w=function(e){var t=e.whiteColor,n=e.brandColor,a=(0,o.default)(e,["whiteColor","brandColor"]),r=(0,p.default)("button",{whiteColor:t,brandColor:n});return i.default.createElement("div",(0,u.default)({styleName:r},a,{role:"closeButton"}),i.default.createElement("div",{styleName:"icon",role:"closeIcon"}))};w.propTypes={whiteColor:d.default.bool,brandColor:d.default.bool},t.default=(0,m.default)(w,y.default,{allowMultiple:!0})},function(e,t){e.exports={button:"_3DuKEL",whiteColor:"_1cHfwF",icon:"IZktJv",brandColor:"LyalG8"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(13),m=a(h),v=n(92),y=n(2),w=a(y),b=n(971),g=a(b),_=n(972),E=a(_),S=n(94),M=a(S),C=n(337),k=a(C),x=n(975),T=a(x),A=n(979),N=a(A),I=n(981),O=a(I),B=(r=(0,w.default)(g.default))(u=function(e){function t(){var n,a,r;(0,o.default)(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=a=(0,i.default)(this,e.call.apply(e,[this].concat(s))),a.handleConfirm=function(){a.createOrder(),m.default.modals.close("OfferModal")},a.createOrder=function(){var e=a.props.offer,t=e.buyAmount,n=e.sellAmount,r=e.buyCurrency,u=e.sellCurrency,s={buyCurrency:""+r,sellCurrency:""+u,buyAmount:Number(t),sellAmount:Number(n)};m.default.analytics.dataEvent("orderbook-addoffer-click-confirm-button"),v.swapApp.services.orders.create(s)},r=n,(0,i.default)(a,r)}return(0,d.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.offer,n=t.exchangeRate,a=t.buyAmount,r=t.sellAmount,u=t.buyCurrency,s=t.sellCurrency,o=e.onBack;return p.default.createElement(f.Fragment,null,p.default.createElement(k.default,{styleName:"coins",names:[u,s],size:100}),p.default.createElement(T.default,{buyAmount:a,sellAmount:r,buyCurrency:u,sellCurrency:s}),p.default.createElement(N.default,{value:n,buyCurrency:u,sellCurrency:s}),p.default.createElement(O.default,{amount:1e-4,currency:s}),p.default.createElement(E.default,{styleName:"buttonsInRow"},p.default.createElement(M.default,{styleName:"button",gray:!0,onClick:o},"Back"),p.default.createElement(M.default,{styleName:"button",brand:!0,onClick:this.handleConfirm},"Confirm")))},t}(f.Component))||u;t.default=B},function(e,t){e.exports={coins:"_2RjWU2",buttonsInRow:"_3mrqw4",button:"_1vanZm"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(21),u=a(r),s=n(0),o=a(s),l=n(7),i=a(l),c=n(2),d=a(c),f=n(973),p=a(f),h=function(e){var t=e.children,n=(0,u.default)(e,["children"]);return o.default.createElement("div",n,o.default.createElement("div",{styleName:"twoButtonsInRow"},t))};h.propTypes={children:i.default.node.isRequired},t.default=(0,d.default)(h,p.default)},function(e,t){e.exports={twoButtonsInRow:"_9_lDxo"}},function(e,t){e.exports={button:"_2LQ20V",fullWidth:"_3JAxiX",brand:"_3sxX__",green:"_1luSAS",white:"_2p_RXB",gray:"_2TQbbx",disabled:"_2fO4Kf"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(976),i=a(l),c=n(196),d=a(c),f=n(197),p=a(f),h=function(e){var t=e.buyAmount,n=e.sellAmount,a=e.buyCurrency,r=e.sellCurrency;return u.default.createElement(d.default,{title:"Exchange"},u.default.createElement(p.default,{value:n,currency:r}),u.default.createElement("div",{styleName:"arrow"}),u.default.createElement(p.default,{value:t,currency:a}))};t.default=(0,o.default)(h,i.default)},function(e,t){e.exports={arrow:"_2HWTjJ"}},function(e,t){e.exports={row:"_1y3vOI",title:"LetDhR",content:"_1XWdvY"}},function(e,t){e.exports={value:"_2bAMgW",currency:"_1Z5jPl"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(980),i=a(l),c=n(196),d=a(c),f=n(197),p=a(f),h=function(e){var t=e.value,n=e.buyCurrency,a=e.sellCurrency;return u.default.createElement(d.default,{title:"Exchange rate"},u.default.createElement(p.default,{value:1,currency:n}),u.default.createElement("div",{styleName:"equal"},"="),u.default.createElement(p.default,{value:t,currency:a}))};t.default=(0,o.default)(h,i.default)},function(e,t){e.exports={equal:"_3RggZJ"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(196),o=a(s),l=n(197),i=a(l),c=function(e){var t=e.amount,n=e.currency;return u.default.createElement(o.default,{title:"Miner fee"},u.default.createElement(i.default,{value:t,currency:n}))};t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l,i=n(1),c=a(i),d=n(3),f=a(d),p=n(4),h=a(p),m=n(0),v=a(m),y=n(95),w=a(y),b=n(13),g=a(b),_=n(2),E=a(_),S=n(989),M=a(S),C=n(94),k=a(C),x=n(990),T=a(x),A={ethbtc:.001,btceth:1e3,ethnoxon:1,noxoneth:1,btcnoxon:1e3,noxonbtc:.001},N=(r=(0,E.default)(M.default,{allowMultiple:!0}))((o=s=function(e){function t(n){var a=n.initialData;(0,c.default)(this,t);var r=(0,f.default)(this,e.call(this));l.call(r);var u=a||{},s=u.exchangeRate,o=u.buyAmount,i=u.sellAmount,d=u.buyCurrency,p=u.sellCurrency;return r.state={exchangeRate:s||A.ethbtc,buyAmount:o||"",sellAmount:i||"",buyCurrency:d||"eth",sellCurrency:p||"btc",EventWasSend:!1},r}return(0,h.default)(t,e),t.prototype.render=function(){var e=this.state,t=e.exchangeRate,n=e.buyAmount,a=e.sellAmount,r=e.buyCurrency,u=e.sellCurrency,s=""+r+u=="noxoneth"||""+r+u=="ethnoxon",o=w.default.all(this,"exchangeRate","buyAmount","sellAmount"),l=!t||s||!n&&!a;return v.default.createElement(m.Fragment,null,v.default.createElement(T.default,{label:"Exchange rate",inputValueLink:o.exchangeRate,currency:!1}),v.default.createElement(T.default,{styleName:"buyGroup",label:"Buy",inputValueLink:o.buyAmount.onChange(this.handleBuyAmountChange),selectedCurrencyValue:r,onCurrencySelect:this.handleBuyCurrencySelect}),v.default.createElement(T.default,{label:"Sell",inputValueLink:o.sellAmount.onChange(this.handleSellAmountChange),selectedCurrencyValue:u,onCurrencySelect:this.handleSellCurrencySelect}),v.default.createElement(k.default,{styleName:"button",fullWidth:!0,brand:!0,disabled:l,onClick:this.handleNext},"Next"))},t}(m.Component),l=function(){var e=this;this.getExchangeRate=function(e,t){return A[""+e.toLowerCase()+t.toLowerCase()]},this.handleBuyCurrencySelect=function(t){var n=t.value,a=e.state,r=a.buyCurrency,u=a.sellCurrency,s=a.buyAmount,o=a.sellAmount;n===u&&(u=r),r=n;var l=e.getExchangeRate(r,u);s&&(o=s*l),e.setState({exchangeRate:l,buyCurrency:r,sellCurrency:u,sellAmount:o})},this.handleSellCurrencySelect=function(t){var n=t.value,a=e.state,r=a.buyCurrency,u=a.sellCurrency,s=a.buyAmount,o=a.sellAmount;n===r&&(r=u),u=n;var l=e.getExchangeRate(r,u);s&&(o=s*l),e.setState({exchangeRate:l,buyCurrency:r,sellCurrency:u,sellAmount:o})},this.handleBuyAmountChange=function(t){var n=e.state.exchangeRate;e.EventWasSend||(g.default.analytics.dataEvent("orderbook-addoffer-enter-ordervalue"),e.EventWasSend=!0),e.setState({sellAmount:t*n})},this.handleSellAmountChange=function(t){var n=e.state.exchangeRate;e.EventWasSend||(g.default.analytics.dataEvent("orderbook-addoffer-enter-ordervalue"),e.EventWasSend=!0),e.setState({buyAmount:t/n})},this.handleNext=function(){var t=e.state,n=t.exchangeRate,a=t.buyAmount,r=t.sellAmount,u=t.buyCurrency,s=t.sellCurrency,o=""+u+s=="noxoneth"||""+u+s=="ethnoxon",l=e.props.onNext;g.default.analytics.dataEvent("orderbook-addoffer-click-next-button"),!n||!a||!r||o||l(e.state)}},u=o))||u;t.default=N},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.NumberInput=t.Checkbox=t.Radio=t.Select=t.TextArea=t.Input=void 0;var r=n(1),u=a(r),s=n(3),o=a(s),l=n(4),i=a(l),c=n(9),d=a(c),f=n(46),p=a(f),h=n(21),m=a(h),v=n(0),y=a(v),w=n(984),b=a(w),g=n(34),_=a(g),E=n(14),S=function(e,t){return t.target.value},M=function(e,t){return Boolean(t.target.checked)},C=function(e,t,n){var a,r=e.className,u=e.invalidClass,s=e.requiredClass;return(0,_.default)(r,(a={},a[u||"invalid"]=Boolean(n),a[s||"required"]=Boolean(n&&""===t),a))},k=function(e){var t=e.valueLink,n=e.checkedLink,a=e.pattern,r=e.mask,u=e.maskChar,s=e.maskReplace,o=(0,m.default)(e,["valueLink","checkedLink","pattern","mask","maskChar","maskReplace"]),l=t||n;switch(e.type){case"checkbox":return y.default.createElement("input",(0,p.default)({},o,{checked:Boolean(l.value),onChange:l.action(M)}));case"radio":return y.default.createElement("input",(0,p.default)({},o,{checked:l.value===e.value,onChange:function(t){t.target.checked&&l.set(e.value)}}));default:var i=C(o,t.value,t.error),c=Boolean(r)?b.default:"input",f=(0,d.default)({},o,{className:i,value:void 0!==t.value?String(t.value):"",onChange:t.action(function(e,t){var n=t.target.value;if(a&&n&&(n=n.replace(new RegExp("[^"+a+"]+","g"),"")),r&&n){if(s)return n.replace(s,"");if(null!==s&&!1!==s)return n.replace(/[^0-9]+/g,"")}return n})});return r&&(f.mask=r,f.maskChar=u),y.default.createElement(c,f)}},x=function(e){function t(){(0,u.default)(this,t);var n=(0,o.default)(this,e.apply(this,arguments));return n.onChange=function(e){var t=e.target.value,a=Number(t);n.setValue(t),t&&!isNaN(a)&&n.props.valueLink.update(function(e){if(a!==Number(e))return a})},n.onKeyPress=function(e){var t=n.props,a=t.integer,r=t.positive,u=e.charCode,s=e.ctrlKey,o=(r?[]:[45]).concat(a?[]:[46]);s||u&&(u<48||u>57)&&o.indexOf(u)<0&&e.preventDefault()},n}return(0,i.default)(t,e),t.prototype.componentWillMount=function(){this.setAndConvert(this.props.valueLink.value)},t.prototype.componentWillReceiveProps=function(e){var t=e.valueLink;Number(t.value)!==Number(this.value)&&this.setAndConvert(t.value)},t.prototype.setValue=function(e){this.value=String(e),this.error=""===this.value||isNaN(Number(e)),this.forceUpdate()},t.prototype.setAndConvert=function(e){var t=Number(e);this.props.positive&&(t=Math.abs(e)),this.props.integer&&(t=Math.round(t)),this.setValue(t)},t.prototype.render=function(){var e=this.props,t=e.valueLink,n=(0,m.default)(e,["valueLink"]),a=t.error||this.error;return y.default.createElement("input",(0,p.default)({},(0,E.ignoreProps)(n,"positive","integer"),{type:"text",className:C(n,this.value,a),value:this.value,onKeyPress:this.onKeyPress,onChange:this.onChange}))},t}(v.Component),T=function(e){var t=e.valueLink,n=(0,m.default)(e,["valueLink"]);return y.default.createElement("textarea",(0,p.default)({},n,{className:C(n,t.value,t.error),value:t.value,onChange:t.action(S)}))},A=function(e){var t=e.valueLink,n=e.children,a=(0,m.default)(e,["valueLink","children"]);return y.default.createElement("select",(0,p.default)({},a,{value:t.value,onChange:t.action(S)}),n)},N=function(e){var t=e.className,n=void 0===t?"radio":t,a=e.checkedLink,r=e.children;return y.default.createElement("div",{className:(0,_.default)(n,{selected:a.value}),onClick:a.action(function(){return!0})},r)},I=function(e){var t=e.className,n=void 0===t?"checkbox":t,a=e.checkedLink,r=e.children;return y.default.createElement("div",{className:(0,_.default)(n,{selected:a.value}),onClick:a.action(function(e){return!e})},r)};t.Input=k,t.TextArea=T,t.Select=A,t.Radio=N,t.Checkbox=I,t.NumberInput=x},,,,,,function(e,t){e.exports={buyGroup:"EzYW8A",button:"_2cpQT4"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),u=a(r),s=n(2),o=a(s),l=n(991),i=a(l),c=n(348),d=a(c),f=n(199),p=a(f),h=n(316),m=a(h),v=function(e){var t=e.className,n=e.label,a=e.inputValueLink,s=e.currency,o=void 0===s||s,l=e.selectedCurrencyValue,c=e.onCurrencySelect;return u.default.createElement(r.Fragment,null,u.default.createElement(d.default,{inRow:!0},n),u.default.createElement("div",{styleName:"groupField",className:t},u.default.createElement(p.default,{styleName:"inputRoot",inputContainerClassName:i.default.inputContainer,valueLink:a,pattern:"0-9\\."}),o&&u.default.createElement(m.default,{styleName:"currencySelect",selectedValue:l,onSelect:c})))};t.default=(0,o.default)(v,i.default)},function(e,t){e.exports={groupField:"m1Yt0g",inputRoot:"_1rUUNY",inputContainer:"_1qVKWE",currencySelect:"_2Otm6-"}},function(e,t){e.exports={label:"_1Grvg1",inRow:"_2anvtg"}},function(e,t){e.exports={root:"_2B8dk-",inputContainer:"_2MfSxb",disabled:"_34MQUG",withError:"_1bE9ra",input:"_2HgfFS",label:"n728cD",error:"_1KSgUc"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(46),o=a(s),l=n(21),i=a(l),c=n(1),d=a(c),f=n(3),p=a(f),h=n(4),m=a(h),v=n(0),y=a(v),w=n(7),b=a(w),g=n(995),_=a(g),E=(u=r=function(e){function t(){var n,a,r;(0,d.default)(this,t);for(var u=arguments.length,s=Array(u),o=0;o<u;o++)s[o]=arguments[o];return n=a=(0,p.default)(this,e.call.apply(e,[this].concat(s))),a.dispatchEvent=function(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!1);var r=function(){return a.textareaEl.dispatchEvent(n)};t?setTimeout(r):r()},a.getValue=function(e){var t=e.valueLink,n=e.value;return t?t.value:n},r=n,(0,p.default)(a,r)}return(0,m.default)(t,e),t.prototype.componentDidMount=function(){(0,_.default)(this.textareaEl),this.props.onResize&&this.textareaEl.addEventListener("autosize:resized",this.props.onResize)},t.prototype.componentWillUnmount=function(){this.props.onResize&&this.textareaEl.removeEventListener("autosize:resized",this.props.onResize),this.dispatchEvent("autosize:destroy")},t.prototype.componentWillReceiveProps=function(e){this.getValue(e)!==this.getValue(this.props)&&this.dispatchEvent("autosize:update",!0)},t.prototype.render=function(){var e=this,t=this.props,n=t.valueLink,a=(0,i.default)(t,["valueLink"]);return y.default.createElement("textarea",(0,o.default)({ref:function(t){return e.textareaEl=t}},a,{value:n.value,onChange:n.action(function(e,t){return t.target.value})}))},t}(v.Component),r.propTypes={valueLink:b.default.object.isRequired,onResize:b.default.func},r.defaultProps={rows:1},u);t.default=E},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l,i=n(1),c=a(i),d=n(3),f=a(d),p=n(4),h=a(p),m=n(0),v=a(m),y=n(7),w=a(y),b=n(27),g=n(14),_=n(13),E=a(_),S=n(95),M=a(S),C=n(2),k=a(C),x=n(997),T=a(x),A=n(195),N=a(A),I=n(348),O=a(I),B=n(199),P=a(B),R=n(94),q=a(R),F=(r=(0,b.connect)({ethData:"user.ethData",btcData:"user.btcData",nimData:"user.nimData"}),u=(0,k.default)(T.default),r(s=u((l=o=function(e){function t(){var n,a,r;(0,c.default)(this,t);for(var u=arguments.length,s=Array(u),o=0;o<u;o++)s[o]=arguments[o];return n=a=(0,f.default)(this,e.call.apply(e,[this].concat(s))),a.state={isSubmitted:!1,address:" ",amount:""},a.handleSubmit=function(){var e=a.state,t=e.address,n=e.amount,r=a.props,u=r.ethData,s=r.btcData,o=r.nimData,l=r.data.currency;if(!t||!n||n<.01)return void a.setState({isSubmitted:!0});var i=void 0,c=void 0;"ETH"===l?(i=E.default.ethereum,c=u.address):"BTC"===l?(i=E.default.bitcoin,c=s.address):"NIM"===l?(i=E.default.nimiq,c=o.address):"NOXON"===l&&(i=E.default.token),E.default.loader.show(),i.send(c,t,Number(n)).then(function(){E.default.loader.hide(),i.getBalance(),E.default.notifications.show(g.constants.notifications.SuccessWithdraw,{amount:n,currency:l,address:t})})},a.setAmount=function(e){a.setState({amount:e})},a.setAddress=function(e){a.setState({address:e})},r=n,(0,f.default)(a,r)}return(0,h.default)(t,e),t.prototype.render=function(){var e=this.state,t=e.isSubmitted,n=e.address,a=e.amount,r=this.props,u=r.name,s=r.data,o=M.default.all(this,"address","amount"),l=!n||!a;return t&&o.amount.check(function(e){return e>=.01},"Amount must be greater than 0.01"),v.default.createElement(N.default,{name:u,title:"Withdraw "+s.currency.toUpperCase()},v.default.createElement(O.default,{inRow:!0},"Address"),v.default.createElement(P.default,{valueLink:o.address}),v.default.createElement(O.default,{inRow:!0},"Amount"),v.default.createElement(P.default,{valueLink:o.amount,pattern:"0-9\\."}),!o.amount.error&&v.default.createElement("div",{styleName:"note"},"No less than 0.01"),v.default.createElement(q.default,{styleName:"button",brand:!0,fullWidth:!0,disabled:l,onClick:this.handleSubmit},"Transfer"))},t}(v.default.Component),o.propTypes={name:w.default.string,data:w.default.object},s=l))||s)||s);t.default=F},function(e,t){e.exports={note:"_1A5qTh",button:"_2Wr1o_"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l,i=n(1),c=a(i),d=n(3),f=a(d),p=n(4),h=a(p),m=n(0),v=a(m),y=n(7),w=a(y),b=n(27),g=n(68),_=a(g),E=n(13),S=a(E),M=n(95),C=a(M),k=n(14),x=n(2),T=a(x),A=n(999),N=a(A),I=n(1e3),O=a(I),B=n(195),P=a(B),R=n(94),q=a(R),F=(r=(0,b.connect)({ethData:"user.ethData",btcData:"user.btcData"}),u=(0,T.default)(N.default,{allowMultiple:!0}),r(s=u((l=o=function(e){function t(){var n,a,r;(0,c.default)(this,t);for(var u=arguments.length,s=Array(u),o=0;o<u;o++)s[o]=arguments[o];return n=a=(0,f.default)(this,e.call.apply(e,[this].concat(s))),a.state={view:"saveKeys",ethValidated:!1,btcValidated:!1},a.changeView=function(e){a.setState({view:e})},a.close=function(){var e=a.props.name;k.localStorage.setItem(k.constants.localStorage.privateKeysSaved,!0),S.default.modals.close(e)},a.getText=function(){var e=a.props,t=e.ethData,n=e.btcData;return"\n"+window.location.hostname+" emergency instruction\n\r\n\n\r\n\n#ETHEREUM\n\r\n\n\r\n\nEthereum address: "+t.address+"  \r\n\nPrivate key: "+t.privateKey+"\r\n\n\r\n\n\r\n\nHow to access tokens and ethers: \r\n\n1. Go here https://www.myetherwallet.com/#send-transaction \r\n\n2. Select 'Private key'\r\n\n3. paste private key to input and click \"unlock\"\r\n\n\r\n\n\r\n\n\r\n\n# BITCOIN\r\n\n\r\n\n\r\n\nBitcoin address: "+n.address+"\r\n\nPrivate key: "+n.privateKey+'\r\n\n\r\n\n\r\n\n1. Go to blockchain.info\r\n\n2. login\r\n\n3. Go to settings > addresses > import\r\n\n4. paste private key and click "Ok"\r\n\n\r\n\n\r\n\n* We don`t store your private keys and will not be able to restore them!  \n    '},a.handleDownload=function(){var e=document.createElement("a"),t=a.getText();e.setAttribute("href","data:text/plaincharset=utf-8,"+encodeURIComponent(t)),e.setAttribute("download",window.location.hostname+"_keys_"+(0,_.default)().format("DD.MM.YYYY")+".txt"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),a.changeView("checkKeys"),S.default.notifications.show(k.constants.notifications.Message,{message:"Check your browser downloads"})},a.handleSendByEmail=function(){var e=a.getText();window.open("mailto:?subject=Your_Subject&body="+e)},r=n,(0,f.default)(a,r)}return(0,h.default)(t,e),t.prototype.render=function(){var e=this.state.view,t=this.props,n=t.name,a=t.ethData,r=t.btcData,u=C.default.state(this,"ethValidated"),s=C.default.state(this,"btcValidated"),o=u.value&&s.value;return v.default.createElement(P.default,{styleName:"modal",name:n,showCloseButton:!1,whiteLogo:!0,title:"CAUTION!"},v.default.createElement("div",{styleName:"content"},"saveKeys"===e?v.default.createElement(m.Fragment,null,v.default.createElement("div",{styleName:"title"},"Before you continue be sure to save your private keys!",v.default.createElement("br",null),"It`s very important because If you don`t",v.default.createElement("br",null),"there is a big chance you`ll loose your money."),v.default.createElement("div",{styleName:"subTitle"},"We don`t store your private keys and will not be able to restore them!"),v.default.createElement(q.default,{brand:!0,styleName:"button",onClick:this.handleDownload},"Download instruction")):v.default.createElement(m.Fragment,null,v.default.createElement("div",{styleName:"title"},"Please fill information below from instruction.txt file. We`d like to be sure that you saved the private keys before you can continue to the site."),v.default.createElement(O.default,{label:a.currency,privateKey:a.privateKey,valueLink:u}),v.default.createElement(O.default,{label:r.currency,privateKey:r.privateKey,valueLink:s}),o&&v.default.createElement(q.default,{white:!0,styleName:"button",onClick:this.close},"GO TO THE SITE!"))))},t}(v.default.PureComponent),o.propTypes={name:w.default.string,ethData:w.default.object.isRequired,btcData:w.default.object.isRequired},s=l))||s)||s);t.default=F},function(e,t){e.exports={modal:"_3EyIsk",content:"_13sdCy",title:"TLE3XR",subTitle:"_3u-G2a",button:"_265YTK"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l=n(1),i=a(l),c=n(3),d=a(c),f=n(4),p=a(f),h=n(0),m=a(h),v=n(7),y=a(v),w=n(95),b=a(w),g=n(2),_=a(g),E=n(1001),S=a(E),M=n(199),C=a(M),k=n(94),x=a(k),T=(r=(0,_.default)(S.default))((o=s=function(e){function t(){var n,a,r;(0,i.default)(this,t);for(var u=arguments.length,s=Array(u),o=0;o<u;o++)s[o]=arguments[o];return n=a=(0,d.default)(this,e.call.apply(e,[this].concat(s))),a.state={value:"",error:!1,success:!1},a.handleCheck=function(){var e=a.state,t=e.value,n=e.error,r=e.success,u=a.props,s=u.valueLink,o=u.privateKey;n||r||(t!==o?a.setState({error:!0}):(s.set(!0),a.setState({success:!0})))},r=n,(0,d.default)(a,r)}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.state,t=e.error,n=e.success,a=this.props.label,r=b.default.state(this,"value");return m.default.createElement("div",{styleName:"container"},m.default.createElement("div",{styleName:"section"},m.default.createElement("div",{styleName:"label"},a.toUpperCase()),m.default.createElement(C.default,{styleName:"input",placeholder:"Write private key here...",valueLink:r}),m.default.createElement(x.default,{styleName:"button",white:!n,green:n,onClick:this.handleCheck},n?"OK":"Check")),t&&m.default.createElement("div",{styleName:"error"},"You should pass correct value! Reload page and enter key again"))},t}(m.default.Component),s.propTypes={label:y.default.string.isRequired,privateKey:y.default.string.isRequired,valueLink:y.default.object.isRequired},u=o))||u;t.default=T},function(e,t){e.exports={container:"_2sawde",section:"_3I8NoW",label:"_9MIala",input:"B6rjvz",button:"_8Hxxx_",error:"_37HJh_"}},function(e,t){e.exports={modalConductor:"_8Hhrkg"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s,o,l,i=n(17),c=a(i),d=n(1),f=a(d),p=n(3),h=a(p),m=n(4),v=a(m),y=n(0),w=a(y),b=n(7),g=a(b),_=n(27),E=n(1004),S=a(E),M=n(2),C=a(M),k=n(1010),x=a(k),T=(r=(0,_.connect)({notifications:"notifications"}),u=(0,C.default)(x.default),r(s=u((l=o=function(e){function t(){return(0,f.default)(this,t),(0,h.default)(this,e.apply(this,arguments))}return(0,v.default)(t,e),t.prototype.render=function(){var e=this.props.notifications,t=(0,c.default)(e);return Boolean(t.length)&&w.default.createElement("div",{styleName:"notificationConductor"},t.map(function(t){var n=e[t],a=n.name,r=n.data,u=void 0===r?{}:r;return w.default.createElement(S.default[a],{key:a,name:a,data:u})}))},t}(y.Component),o.propTypes={notifications:g.default.object},s=l))||s)||s);t.default=T},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1005),u=a(r),s=n(1008),o=a(s);t.default={SuccessWithdraw:u.default,Message:o.default}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(2),m=a(h),v=n(1006),y=a(v),w=n(349),b=a(w),g=(r=(0,m.default)(y.default))(u=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.data,a=n.amount,r=n.currency,u=n.address;return p.default.createElement(b.default,{name:t},p.default.createElement("span",{styleName:"value"},a," ",r)," were successfully transferred to ",u,"!")},t}(f.Component))||u;t.default=g},function(e,t){e.exports={value:"_2JfWob"}},function(e,t){e.exports={container:"_288JHo",mounted:"NHOOb_",removed:"_3iSWGm",notification:"_2wSt7r",content:"_3FIvMD"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=void 0;var r,u,s=n(1),o=a(s),l=n(3),i=a(l),c=n(4),d=a(c),f=n(0),p=a(f),h=n(2),m=a(h),v=n(1009),y=a(v),w=n(349),b=a(w),g=(r=(0,m.default)(y.default))(u=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.data.message;return p.default.createElement(b.default,{name:t},p.default.createElement("span",{styleName:"value"},n))},t}(f.Component))||u;t.default=g},function(e,t){e.exports={value:"_34omtZ"}},function(e,t){e.exports={notificationConductor:"QOGrSh"}}],[350]);